(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{404:function(e,t,n){e.exports=n(874)},874:function(e,t,n){"use strict";n.r(t);n(875);var r=n(902),a=n(1),o=n.n(a),i=n(2),l=n(129),c=Object(i.extendTheme)({fonts:{heading:"Lexend",body:"Lexend",mono:"Lexend"},components:{Text:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"md"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"14px"},sm:{fontSize:"12px"}}},Input:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"md"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"14px"},sm:{fontSize:"12px"}}},Heading:{baseStyle:{color:"gray.800",fontFamily:"Lexend_400Regular"},defaultProps:{size:"lg"},sizes:{lg:{fontSize:"32px"},md:{fontSize:"24px"},sm:{fontSize:"20px"}}}}});var u,d=n(3),m=n.n(d),s=n(7),p=n.n(s),g=n(15),f=n.n(g),h=n(8),x=n.n(h),v=n(21),b=n.n(v),E=n(20),y=n.n(E),w=n(182),C=n(227),B=n(894),I=n(899),S=n(881),O=n(893),k=n(900),j=n(901),W=n(895),U=n(385),_=n.n(U),z=n(386),$=n(268),T=n.n($),P=n(898);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=Object(I.a)(u||(u=b()(["\n  query {\n    user: authenticatedUser {\n      id\n      phone\n      name\n      email\n      avatar {\n        publicUrl\n      }\n      gender\n      description\n    }\n  }\n"])));function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",n="https://odanang.net/admin/api",r=e,a=new k.a({uri:n,headers:{as:r,locale:t}}),o=Object(z.a)((function(e,t){var n,r;return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,e.next=3,y.a.awrap(w.a.getItem("@token"));case 3:return r=e.sent,e.abrupt("return",{headers:A(A({},n),{},{authorization:r?"Bearer "+r:""})});case 5:case"end":return e.stop()}}),null,null,null,Promise)})).concat(a),i=new j.a;return new S.a({link:o,ssrMode:"undefined"===typeof window,cache:i})}var H={};function N(e){return H[e]}function F(e,t){return T()(e,t,{arrayMerge:function(e,t){return[].concat(f()(t),f()(e.filter((function(e){return t.every((function(t){return!_()(e,t)}))}))))}})}var L=Object(a.createContext)(),Y=Object(P.a)();function V(e){var t=e.navigation,n=e.header,r=Object(O.a)(D),i=r.loading,l=(r.error,r.data),c=(void 0===l?{}:l).user,u=void 0===c?null:c;r.user=u;var d=A(A({},C.a),{},{colors:A(A({},C.a.colors),{},{background:"rgb(255, 255, 255)"})});return Object(a.useEffect)((function(){})),Object(a.useMemo)((function(){var e;return o.a.createElement(L.Provider,{value:r},o.a.createElement(B.a,{linking:t.linking,theme:d},o.a.createElement(Y.Navigator,{screenOptions:{header:n},initialRouteName:t.initialRouteName},null==(e=t.screens)?void 0:e.map((function(e,n){return o.a.createElement(Y.Screen,m()({},e,{key:e.name+n,component:!u&&t.auth.requires.includes(e.name)?t.auth.component:e.component}))})))))}),[u,i])}function q(e){var t=e.pageProps,n=void 0===t?{}:t,r=e.navigation,i=e.header,l=Object(a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.domain,r=void 0===n?"_":n,a=t.locale,o=void 0===a?"_":a,i=N(r)||M(r,o);if(e){var l=i.cache.extract(),c=F(e,l);i.cache.restore(c)}return H[r]||(H[r]=i),i}()}),[n]);return o.a.createElement(W.a,{client:l},o.a.createElement(V,{navigation:r,header:i}))}var G=["UI","navigation"];function K(e){var t=e.UI,n=e.navigation,r=p()(e,G),i=Object(a.useContext)(L),l=i.loading,c=i.error,u=i.data,d=(void 0===u?{}:u).user,s=void 0===d?{}:d;return o.a.createElement(t,m()({},r,{navigation:n,loading:l,error:c,user:s}))}var X=n(903);function J(e){var t=e.loading,n=(e.error,e.user);return t?o.a.createElement(i.Text,null):n?o.a.createElement(X.a,{to:{screen:"users",params:{id:n.id}}},o.a.createElement(i.Button,{rounded:8,bgColor:"gray.100",p:"2",px:"3",_text:{color:"gray.400",fontWeight:"600"}},n.name)):o.a.createElement(i.Text,null)}function Z(e){return o.a.createElement(K,m()({},e,{UI:J}))}var Q,ee,te=n(5),ne=n.n(te),re=n(228),ae=n(896),oe=Object(I.a)(Q||(Q=b()(["\n  mutation($phone: String, $password: String) {\n    user: authenticateUserWithPassword(phone: $phone, password: $password) {\n      token\n      item {\n        phone\n        name\n      }\n    }\n  }\n"])));function ie(e){var t=e.UI,n=e.navigation,r=Object(re.a)(),i=Object(a.useContext)(L).refetch,l=Object(ae.a)(oe,{onCompleted:function(e){var t,a;return y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.user,a=(void 0===t?{}:t).token,o.prev=2,o.next=5,y.a.awrap(w.a.setItem("@token",a));case 5:o.next=10;break;case 7:o.prev=7,o.t0=o.catch(2),console.log("User SignIn Error",o.t0);case 10:return o.prev=10,o.next=13,y.a.awrap(r.clearStore());case 13:return o.next=15,y.a.awrap(r.resetStore());case 15:if(!i){o.next=18;break}return o.next=18,y.a.awrap(i());case 18:return console.log('navigation.navigate("home")'),o.next=21,y.a.awrap(n.navigate("home"));case 21:return o.finish(10);case 22:case"end":return o.stop()}}),null,null,[[2,7,10,22]],Promise)},onError:function(e){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.awrap(w.a.removeItem("@token"));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,e.next=10,y.a.awrap(r.clearStore());case 10:return e.next=12,y.a.awrap(r.resetStore());case 12:return e.finish(7);case 13:case"end":return e.stop()}}),null,null,[[0,5,7,13]],Promise)}}),c=ne()(l,2),u=c[0],d=c[1],m=void 0===d?{}:d,s=m.loading,p=m.error,g=m.data,f=(void 0===g?{}:g).user;return o.a.createElement(t,{signIn:function(e){var t=e.phone,n=e.password;return u({variables:{phone:t,password:n}})},loading:s,error:p,user:f})}function le(e){var t=e.signIn,n=e.loading,r=e.error,l=(e.user,e.navigation,Object(a.useRef)()),c=Object(a.useRef)(),u=Object(a.useState)(null),d=ne()(u,2),m=d[0],s=d[1];return o.a.createElement(a.Fragment,null,o.a.createElement(i.Box,{maxW:"370px",w:"full",mx:"auto",mt:"100px"},o.a.createElement(i.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Odanang logo",size:"70px",mx:"auto"}),o.a.createElement(i.Heading,{my:"20px",textAlign:"center",fontSize:["20px","24px"]},"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c"),o.a.createElement(i.Box,{px:"18px",py:"30px",rounded:"10px",borderWidth:"1px",borderColor:"gray.100",bg:"gray.50"},o.a.createElement(i.VStack,{space:"12px"},o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),o.a.createElement(i.Input,{ref:l,name:"phone",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,null,"M\u1eadt kh\u1ea9u"),o.a.createElement(i.Input,{ref:c,name:"password",type:"password",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),!n&&o.a.createElement(i.Button,{onPress:function(){s(null);var e=l.current.value,r=c.current.value;!e.trim()||10!==e.length&&11!==e.length||isNaN(e)?s("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):r.trim().length<8?s("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u \xedt nh\u1ea5t 8 k\xed t\u1ef1"):n||t({phone:e,password:r})},rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110\u0102NG NH\u1eacP"),n&&o.a.createElement(i.Button,{rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),o.a.createElement(i.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1",borderColor:"gray.100"},o.a.createElement(i.HStack,{justifyContent:"center"},o.a.createElement(i.Text,null,"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? "),o.a.createElement(X.a,{to:{screen:"signup"}},o.a.createElement(i.Text,{color:"green.500",textDecoration:"none"},"T\u1ea1o t\xe0i kho\u1ea3n")))),r&&o.a.createElement(i.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},"Sai s\u1ed1 \u0111i\u1ec7n tho\u1ea1i ho\u1eb7c m\u1eadt kh\u1ea9u")),m&&o.a.createElement(i.Box,{mt:"12px",p:"12px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},m))))}function ce(e){return o.a.createElement(ie,m()({},e,{UI:le}))}var ue,de=Object(I.a)(ee||(ee=b()(["\n  mutation($data: UserCreateInput) {\n    user: createUser(data: $data) {\n      id\n    }\n  }\n"])));function me(e){var t=e.UI,n=e.navigation,r=Object(ae.a)(de,{onCompleted:function(e){e.user;n.navigate("home")},onError:function(e){console.log("onError",e)}}),a=ne()(r,2),i=a[0],l=a[1],c=l.loading,u=l.error,d=l.data,m=(void 0===d?{}:d).user;return o.a.createElement(t,{on:i,loading:c,error:u,user:m})}function se(e){var t=e.loading,n=e.error,r=(e.user,e.navigation,e.on),l=Object(a.useRef)(),c=Object(a.useRef)(),u=Object(a.useRef)(),d=Object(a.useState)("male"),m=ne()(d,2),s=m[0],p=m[1],g=Object(a.useState)(null),f=ne()(g,2),h=f[0],x=f[1];return o.a.createElement(a.Fragment,null,o.a.createElement(i.Box,{maxW:"370px",w:"full",mx:"auto",mt:"100px"},o.a.createElement(i.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Odanang logo",size:"70px",mx:"auto"}),o.a.createElement(i.Heading,{my:"20px",textAlign:"center",fontSize:["20px","24px"]},"T\u1ea1o t\xe0i kho\u1ea3n m\u1edbi"),o.a.createElement(i.Box,{px:"18px",py:"30px",rounded:"10px",borderWidth:"1px",borderColor:"gray.100",bg:"gray.50"},o.a.createElement(i.VStack,{space:"12px"},o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),o.a.createElement(i.Input,{ref:c,name:"phone",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,null,"H\u1ecd v\xe0 t\xean"),o.a.createElement(i.Input,{ref:l,name:"username",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,null,"M\u1eadt kh\u1ea9u"),o.a.createElement(i.Input,{ref:u,name:"password",type:"password",bgColor:"white",px:"8px",py:"6px",borderWidth:"1",borderColor:"gray.100",rounded:"6px",_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,{mb:"8px"},o.a.createElement(i.FormControl.Label,null,"Gi\u1edbi t\xednh"),o.a.createElement(i.Radio.Group,{name:"sex",accessibilityLabel:"sex",value:s,onChange:function(e){p(e)}},o.a.createElement(i.HStack,{space:"32px"},o.a.createElement(i.Radio,{colorScheme:"green",size:"sm",value:"male",borderWidth:"1px",borderColor:"gray.300"},o.a.createElement(i.Text,{fontSize:"13px",ml:"6px"},"Nam")),o.a.createElement(i.Radio,{borderWidth:"1px",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"female"},o.a.createElement(i.Text,{fontSize:"13px",ml:"6px"},"N\u1eef")),o.a.createElement(i.Radio,{borderWidth:"1px",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"other"},o.a.createElement(i.Text,{fontSize:"13px",ml:"6px"},"Kh\xe1c"))))),!t&&o.a.createElement(i.Button,{onPress:function(){x(null);var e=l.current.value,n=c.current.value,a=u.current.value;!n.trim()||10!==n.length&&11!==n.length||isNaN(n)?x("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):e.trim()&&isNaN(e)&&e.includes(" ")?a.trim().length<8?x("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u \xedt nh\u1ea5t 8 k\xed t\u1ef1"):(console.log(e,n,a,s),t||r({variables:{data:{name:e,phone:n,password:a}}})):x("Ki\u1ec3m tra l\u1ea1i h\u1ecd v\xe0 t\xean")},rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"T\u1ea0O T\xc0I KHO\u1ea2N"),t&&o.a.createElement(i.Button,{rounded:"8px",bgColor:"green.500",p:"8px",_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),o.a.createElement(i.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1",borderColor:"gray.100"},o.a.createElement(i.HStack,{justifyContent:"center"},o.a.createElement(i.Text,null,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n? "),o.a.createElement(X.a,{to:{screen:"home"}},o.a.createElement(i.Text,{color:"green.500",textDecoration:"none"},"\u0110\u0103ng nh\u1eadp ngay")))),n&&o.a.createElement(i.Box,{mt:"12px",p:"14px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xe1c")),h&&o.a.createElement(i.Box,{mt:"12px",p:"12px",rounded:"10px",borderWidth:"1px",borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},h))))}function pe(e){return o.a.createElement(me,m()({},e,{UI:se}))}var ge=Object(I.a)(ue||(ue=b()(["\n  mutation {\n    status: unauthenticateUser {\n      success\n    }\n  }\n"])));function fe(e){var t=e.UI,n=e.navigation,r=Object(re.a)(),i=Object(a.useContext)(L),l=Object(ae.a)(ge,{onCompleted:function(e){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.status,t.next=3,y.a.awrap(r.clearStore());case 3:return t.next=5,y.a.awrap(r.resetStore());case 5:n.navigate("home");case 6:case"end":return t.stop()}}),null,null,null,Promise)},onError:function(e){}}),c=ne()(l,2),u=c[0],d=c[1],m=void 0===d?{}:d,s=m.loading,p=m.error,g=m.data,f=(void 0===g?{}:g).status;return o.a.createElement(t,{signOut:u,loading:s,error:p,status:f,auth:i})}var he=n(392);function xe(e){var t=e.loading,n=(e.error,e.signOut);e.navigation,e.auth;return t?o.a.createElement(i.Text,null):o.a.createElement(i.Button,{onPress:function(e){n()},bgColor:"white",_text:{color:"gray.900"},leftIcon:o.a.createElement(he.a,{color:"#22c55e"})},o.a.createElement(i.Text,null,"\u0110\u0103ng xu\u1ea5t"))}function ve(e){return o.a.createElement(fe,m()({},e,{UI:xe}))}var be,Ee,ye,we=n(897),Ce=n(128),Be=["UI","first","where"],Ie=Object(I.a)(be||(be=b()(["\n  query($first: Int, $where: UserWhereInput) {\n    _allUsersMeta(where: $where) {\n      count\n    }\n    allUsers(first: $first, where: { isAdmin: true } ) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));function Se(e){var t=e.UI,n=e.first,r=void 0===n?4:n,a=e.where,i=p()(e,Be),l=Object(O.a)(Ie,{variables:{first:r,where:a}}),c=l.loading,u=l.error,d=l.data,s=void 0===d?{}:d,g=l.refetch,f=s.allUsers,h=void 0===f?[]:f,x=s._allUsersMeta,v=void 0===x?{}:x,b=ne()(h,1)[0],E=void 0===b?{}:b,y=v.count;return o.a.createElement(t,m()({},i,{loading:c,error:u,allUsers:h,user:E,count:y,refetch:g}))}var Oe=Object(I.a)(Ee||(Ee=b()(["\n  query($id: ID!) {\n    User(where: { id: $id }) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n    allPosts(where: { createdBy: { id: $id } }) {\n      id\n    }\n    _allRelationshipsMeta(\n      where: {\n        OR: [\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      count\n    }\n  }\n"]))),ke=Object(I.a)(ye||(ye=b()(["\n  query($id: ID!, $my_id: ID!) {\n    User(where: { id: $id }) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n    allPosts(where: { createdBy: { id: $id } }) {\n      id\n    }\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $my_id }, to: { id: $id } } }\n          { OR: { createdBy: { id: $id }, to: { id: $my_id } } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n      }\n      to {\n        id\n      }\n    }\n    _allRelationshipsMeta(\n      where: {\n        OR: [\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      count\n    }\n  }\n"]))),je=Object(Ce.c)((function(){}));function We(e){var t,n=e.UI,r=e.where,a=e.id,i=e.my_id,l=Object(O.a)(a&&i?ke:a?Oe:Ie,{variables:a&&i?{id:a,my_id:i}:a?{id:a}:{where:r}}),c=l.loading,u=l.error,d=l.data,m=void 0===d?{}:d,s=l.refetch,p=m.allUsers,g=m.User,f=p||[g],h=ne()(f,1)[0],x=m.allPosts,v=void 0===x?[]:x,b=m.allRelationships,E=void 0===b?[]:b,y=m._allRelationshipsMeta,w=(void 0===y?{}:y).count;return t=0===E.length?null:E[0],s&&je(s),o.a.createElement(n,{count:w,loading:c,error:u,user:h,posts:v,relationship:t})}var Ue,_e,ze=["UI","id"],$e=Object(I.a)(Ue||(Ue=b()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: false } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: false } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n    _allUsersMeta {\n      count\n    }\n    allUsers {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"]))),Te=Object(Ce.c)((function(){}));function Pe(e){var t=e.UI,n=e.id,r=p()(e,ze),a=Object(O.a)($e,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,u=void 0===c?{}:c,d=a.refetch,s=u.allUsers,g=void 0===s?[]:s,f=u._allUsersMeta,h=void 0===f?{}:f,x=ne()(g,1)[0],v=void 0===x?{}:x,b=h.count,E=u.allRelationships,y=[];(void 0===E?[]:E).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&y.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&y.push(null==e?void 0:e.createdBy)}));var w;return w=g.filter((function(e){return!y.find((function(t){return t.id===e.id||e.id===n}))})),d&&Te(d),o.a.createElement(t,m()({},r,{loading:i,error:l,friendsSuggest:w,user:v,count:b}))}var Re=Object(I.a)(_e||(_e=b()(["\n  mutation($data: RelationshipCreateInput) {\n    createRelationship(data: $data) {\n      id\n      to {\n        id\n        name\n      }\n      createdBy {\n        id\n        name\n      }\n      isAccepted\n    }\n  }\n"])));function Ae(e){var t=e.UI,n=e.toId,r=e.page,a=Object(we.a)(je),i=Object(we.a)(Te),l=Object(ae.a)(Re,{onCompleted:function(e){"SF"===r?i():a()}}),c=ne()(l,2),u=c[0],d=c[1],m=d.loading,s=d.error,p=d.data,g=(void 0===p?{}:p).createRelationship;return o.a.createElement(t,{page:r,loading:m,error:s,clickAddFriend:function(){u({variables:{data:{to:{connect:{id:n}},isAccepted:!1}}})},createRelationship:g})}function De(e){e.error,e.loading;var t=e.clickAddFriend;return o.a.createElement(i.Button,{_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"green.500",onPress:function(e){t()}},"Th\xeam b\u1ea1n b\xe8")}function Me(e){return o.a.createElement(Ae,m()({},e,{UI:De}))}var He,Ne,Fe=["UI","where","id"],Le=Object(I.a)(He||(He=b()(["\n  query($id: ID!) {\n    allRelationships(where: { to: { id: $id }, isAccepted: false }) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"]))),Ye=Object(Ce.c)((function(){}));function Ve(e){var t=e.UI,n=(e.where,e.id),r=p()(e,Fe),a=Object(O.a)(Le,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,u=void 0===c?{}:c,d=a.refetch,s=u.allRelationships,g=void 0===s?[]:s,f=[];return g.map((function(e){f.push(null==e?void 0:e.createdBy)})),d&&Ye(d),o.a.createElement(t,m()({},r,{loading:i,error:l,allUsers:f,refetch:d,allRelationships:g}))}var qe,Ge=Object(I.a)(Ne||(Ne=b()(["\n  mutation($id: ID!, $data: RelationshipUpdateInput) {\n    updateRelationship(id: $id, data: $data) {\n      id\n      to {\n        id\n        name\n      }\n      createdBy {\n        id\n        name\n      }\n      isAccepted\n    }\n  }\n"])));function Ke(e){var t=e.UI,n=e.children,r=e.relationship,a=e.id,i=e.page,l=Object(we.a)(je),c=Object(we.a)(Ye),u=Object(ae.a)(Ge,{onCompleted:function(e){"FR"==i?c():l()}}),d=ne()(u,2),m=d[0],s=d[1],p=s.loading,g=s.error,f=s.data;(void 0===f?{}:f).updateRelationship;return o.a.createElement(t,{loading:p,error:g,clickAgree:function(){m({variables:{id:a,data:{isAccepted:!0}}})}})||n({relationship:r,on:m,relationshipUpdated:relationshipUpdated})}function Xe(e){e.error;var t=e.loading,n=e.clickAgree;return o.a.createElement(i.Button,{_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"green.500",onPress:function(e){t||n()}},"\u0110\u1ed3ng \xfd k\u1ebft b\u1ea1n")}function Je(e){return o.a.createElement(Ke,m()({},e,{UI:Xe}))}var Ze=Object(I.a)(qe||(qe=b()(["\n  mutation($id: ID!) {\n    deleteRelationship(id: $id) {\n      id\n      isAccepted\n    }\n  }\n"])));function Qe(e){var t=e.UI,n=e.id,r=e.page,a=Object(we.a)(je),i=Object(we.a)(Ye),l=Object(ae.a)(Ze,{onCompleted:function(e){"FR"==r?i():a()}}),c=ne()(l,2),u=c[0],d=c[1],m=d.loading,s=d.error,p=d.data,g=(void 0===p?{}:p).deleteRelationship;return o.a.createElement(t,{loading:m,error:s,clickDetete:function(){u({variables:{id:n}})},relationship:g,id:n})}function et(e){e.error;var t=e.loading,n=e.clickDetete;return o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"gray.100",onPress:function(e){confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 hem?")&&!t&&n()}},"Xo\xe1 b\u1ea1n b\xe8")}function tt(e){return o.a.createElement(Qe,m()({},e,{UI:et}))}function nt(e){e.error;var t=e.loading,n=e.clickDetete;e.id;return o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:["13","14"],fontWeight:"600"},p:"8px",rounded:"8px",w:"full",bgColor:"gray.100",onPress:function(e){confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 hem?")&&!t&&n()}},"Xo\xe1 l\u1eddi m\u1eddi")}function rt(e){return o.a.createElement(Qe,m()({},e,{UI:nt}))}function at(e){e.loading,e.error;var t=e.friendsSuggest;e.count,e.refetch;return o.a.createElement(i.VStack,{w:"100%"},o.a.createElement(i.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},o.a.createElement(i.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"Nh\u1eefng ng\u01b0\u1eddi b\u1ea1n c\xf3 th\u1ec3 bi\u1ebft")),o.a.createElement(i.HStack,{maxW:"100%",mx:"auto",w:"100%",flexWrap:"wrap",justifyContent:"flex-start"},t.map((function(e){var t;return o.a.createElement(i.VStack,{key:e.id,p:"12px",minW:["49%","32%","24%"],m:"0.5%",space:["4px","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px"},o.a.createElement(i.Box,null,o.a.createElement(X.a,{to:{screen:"users",params:{id:e.id}}},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:e.name,size:"80px",mx:"auto",mt:"8px",rounded:"100"}))),o.a.createElement(X.a,{to:{screen:"users",params:{id:e.id}}},o.a.createElement(i.Text,{fontWeight:"600",color:"gray.700"},e.name)),o.a.createElement(Me,{toId:e.id,page:"SF"}))}))))}function ot(e){return o.a.createElement(Pe,m()({},e,{UI:at}))}function it(e){var t=e.count;return o.a.createElement(i.Text,{fontSize:"inherit",fontWeight:"inherit"},t)}function lt(e){return o.a.createElement(Se,m()({},e,{UI:it}))}var ct,ut,dt,mt=["UI","where","id"],st=Object(I.a)(ct||(ct=b()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function pt(e){var t=e.UI,n=(e.where,e.id),r=p()(e,mt),a=Object(O.a)(st,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,u=void 0===c?{}:c,d=a.refetch,s=u.allRelationships,g=[];return(void 0===s?[]:s).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&g.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&g.push(null==e?void 0:e.createdBy)})),o.a.createElement(t,m()({},r,{loading:i,error:l,allUsers:g,refetch:d}))}function gt(e){e.loading,e.error;var t=e.allUsers;return o.a.createElement(i.VStack,null,o.a.createElement(i.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},o.a.createElement(i.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"T\u1ea5t c\u1ea3 b\u1ea1n b\xe8")),o.a.createElement(i.HStack,{maxw:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},t.map((function(e){var t;return o.a.createElement(i.HStack,{key:e.id,p:"12px",pl:["8px","12px"],minW:["100%","99%","49%"],m:"0.5%",mx:["0","0.5%"],space:["0","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px",justifyContent:"space-between"},o.a.createElement(i.HStack,{alignItems:"center",space:["12px","16px"]},o.a.createElement(i.Box,null,o.a.createElement(X.a,{to:{screen:"users",params:{id:null==e?void 0:e.id}}},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",size:["48px","72px"],mx:"auto",my:["10px","6px"],rounded:"100"}))),o.a.createElement(X.a,{to:{screen:"users",params:{id:null==e?void 0:e.id}}},o.a.createElement(i.Text,{my:"8px",fontWeight:"600"},e.name))))}))))}function ft(e){return o.a.createElement(pt,m()({},e,{UI:gt}))}var ht=Object(I.a)(ut||(ut=b()(["\n  query($keyword: String) {\n    allUsers(\n      where: {\n        OR: [\n          { OR: { name_contains_i: $keyword } }\n          { OR: { phone_contains: $keyword } }\n        ]\n      }\n    ) {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));Object(I.a)(dt||(dt=b()(["\n  query($my_id: ID!, $id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $my_id }, to: { id: $id } } }\n          { OR: { createdBy: { id: $id }, to: { id: $my_id } } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n      }\n      to {\n        id\n      }\n    }\n  }\n"])));function xt(e){var t=e.UI,n=e.keyword,r=(e.my_id,Object(O.a)(ht,{variables:{keyword:n}})),a=r.loading,i=r.error,l=r.data,c=(void 0===l?{}:l).allUsers,u=void 0===c?[]:c;return o.a.createElement(t,{loading:a,error:i,allUsers:u})}function vt(e){e.loading,e.error;var t=e.allUsers;return o.a.createElement(i.VStack,null,o.a.createElement(i.HStack,{maxw:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},t.map((function(e){var t;return o.a.createElement(i.HStack,{key:e.id,p:["3","4"],pl:["2","4"],minW:["100%","99%"],m:["0","0.5%"],my:"1",space:["0","1.5"],alignItems:"center",borderWidth:"1",borderColor:"gray.100",rounded:["0","xl"],justifyContent:"space-between"},o.a.createElement(i.HStack,{alignItems:"center",space:["3","4"]},o.a.createElement(X.a,{to:{screen:"users",params:{id:e.id}}},o.a.createElement(i.Box,null,o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",size:["48px","72px"],mx:"auto",my:["2.5","1.5"],rounded:"100"}))),o.a.createElement(X.a,{to:{screen:"users",params:{id:e.id}}},o.a.createElement(i.Text,{my:"2",fontWeight:"600"},e.name))))}))))}function bt(e){return o.a.createElement(xt,m()({},e,{UI:vt}))}var Et,yt=["UI","id"],wt=Object(I.a)(Et||(Et=b()(["\n  query($id: ID!) {\n    allRelationships(\n      where: {\n        OR: [\n          { OR: { createdBy: { id: $id }, isAccepted: true } }\n          { OR: { createdBy: { id: $id }, isAccepted: false } }\n          { OR: { to: { id: $id }, isAccepted: true } }\n          { OR: { to: { id: $id }, isAccepted: false } }\n        ]\n      }\n    ) {\n      id\n      isAccepted\n      createdBy {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        phone\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n    _allUsersMeta {\n      count\n    }\n    allUsers {\n      id\n      phone\n      name\n      avatar {\n        publicUrl\n      }\n    }\n  }\n"])));function Ct(e){var t=e.UI,n=e.id,r=p()(e,yt),a=Object(O.a)(wt,{variables:{id:n}}),i=a.loading,l=a.error,c=a.data,u=void 0===c?{}:c,d=a.refetch,s=u.allUsers,g=void 0===s?[]:s,f=u._allUsersMeta,h=void 0===f?{}:f,x=ne()(g,1)[0],v=void 0===x?{}:x,b=h.count,E=u.allRelationships,y=[];(void 0===E?[]:E).map((function(e){var t,r;(null==e||null==(t=e.createdBy)?void 0:t.id)===n&&y.push(null==e?void 0:e.to),(null==e||null==(r=e.to)?void 0:r.id)===n&&y.push(null==e?void 0:e.createdBy)}));var w=[];return w=(w=g.filter((function(e){return!y.find((function(t){return t.id===e.id||e.id===n}))}))).slice(0,4),o.a.createElement(t,m()({},r,{loading:i,error:l,friendsSuggest:w,user:v,count:b,refetch:d}))}function Bt(e){var t=e.friendsSuggest;return o.a.createElement(i.VStack,{my:"2",w:"full"},o.a.createElement(i.HStack,{mb:"2",w:"full"},o.a.createElement(i.Text,{fontSize:"16",fontWeight:"600",color:"gray.400"},"G\u1ee3i \xfd cho b\u1ea1n"),o.a.createElement(i.Spacer,null),o.a.createElement(X.a,{to:{screen:"friendsuggestion"}},o.a.createElement(i.Text,{color:"green.500"},"Xem th\xeam"))),null==t?void 0:t.map((function(e){return o.a.createElement(i.HStack,{key:e.id,m:"1",mt:"3",flex:"1",maxw:"full",w:"260px",alignItems:"center",rounded:"8",space:"4"},o.a.createElement(i.Box,null,o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+(null!=e&&e.avatar?e.avatar.publicUrl:"/upload/img/no-image.png")},alt:"img",size:"8",mx:"auto",rounded:"100"})),o.a.createElement(X.a,{to:{screen:"users",params:{id:e.id}}},o.a.createElement(i.Text,{fontWeight:"600",color:"gray.700"},e.name)))})))}function It(e){return o.a.createElement(Ct,m()({},e,{UI:Bt}))}function St(e){var t=e.loading,n=e.error,r=e.allRelationships;return t?"loading":n?"error":o.a.createElement(i.VStack,{w:"100%"},o.a.createElement(i.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},o.a.createElement(i.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n")),o.a.createElement(i.HStack,{maxW:"full",mx:"auto",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},r.map((function(e){var t,n,r;return o.a.createElement(i.VStack,{key:e.id,p:"12px",minW:["49%","32%","24%"],m:"0.5%",space:["4px","6px"],alignItems:"center",borderWidth:"1px",borderColor:"gray.100",rounded:"8px"},o.a.createElement(i.Box,null,o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==e||null==(t=e.createdBy)||null==(n=t.avatar)?void 0:n.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",size:"80px",mx:"auto",mt:"8px",rounded:"100"})),o.a.createElement(i.Text,{my:"8px",fontWeight:"600"},null==e||null==(r=e.createdBy)?void 0:r.name),o.a.createElement(Je,{id:e.id,page:"FR"}),o.a.createElement(rt,{id:e.id,page:"FR"}))}))))}function Ot(e){return o.a.createElement(Ve,m()({},e,{UI:St}))}var kt=function(e){var t,n,r=e.item;return o.a.createElement(i.Box,{w:"full",position:"relative"},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==r||null==(t=r.images[0])||null==(n=t.file)?void 0:n.publicUrl)||"/upload/img/no-image.png")},alt:"Profile Image",backgroundSize:"cover",flex:"1",p:"50%"}),o.a.createElement(i.Button,{onPress:function(){console.log(r.id,JSON.stringify(r.images))},position:"absolute",w:"full",h:"100%",bgColor:"transparent"}))},jt=n(96),Wt=n(46);var Ut,_t=function(e){return o.a.createElement(i.Box,{maxW:"1005",w:"full",mx:"auto",p:"1%"},o.a.createElement(jt.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 1005 310",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},o.a.createElement(Wt.b,{x:"0",y:"0",rx:"10",ry:"10",width:"325",height:"300"}),o.a.createElement(Wt.b,{x:"340",y:"0",rx:"10",ry:"10",width:"325",height:"300"}),o.a.createElement(Wt.b,{x:"680",y:"0",rx:"10",ry:"10",width:"325",height:"300"})))},zt=["UI","first","skip","sortBy","where"];function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt,Rt=Object(I.a)(Ut||(Ut=b()(["\n  query (\n    $first: Int\n    $skip: Int\n    $sortBy: [SortPostsBy!]\n    $where: PostWhereInput\n    $user: UserWhereInput\n  ) {\n    _allPostsMeta(where: $where) {\n      count\n    }\n    allPosts(first: $first, skip: $skip, sortBy: $sortBy, where: $where) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n        reacted: reactions(where: { createdBy: $user }) {\n          id\n        }\n        comments(first: 5, sortBy: createdAt_DESC) {\n          id\n          content\n          my_interactive {\n            id\n            reacted: reactions(where: { createdBy: $user }) {\n              id\n            }\n          }\n        }\n        reactions {\n          id\n          emoji\n          createdBy {\n            id\n          }\n        }\n        _commentsMeta {\n          count\n        }\n        _reactionsMeta {\n          count\n        }\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function At(e){var t=e.UI,n=e.first,r=void 0===n?20:n,i=e.skip,l=e.sortBy,c=void 0===l?"createdAt_DESC":l,u=e.where,d=p()(e,zt),s=Object(a.useContext)(L).user,g=Object(O.a)(Rt,{variables:{first:r,where:u,skip:i,sortBy:c,user:{id:s.id}}}),h=g.loading,x=g.error,v=g.data,b=void 0===v?{}:v,E=g.fetchMore,y=g.refetch,w=b.allPosts,C=b._allPostsMeta,B=(void 0===C?{}:C).count,I=void 0===B?0:B;return o.a.createElement(t,m()({},d,{loading:h,error:x,refetch:y,allPosts:w,count:I,loadMore:function(e){h||x||I<=w.length||E({variables:{skip:w.length},updateQuery:function(e,t){var n=t.fetchMoreResult;return Tt(Tt({},e),{},{allPosts:[].concat(f()(e.allPosts),f()(n.allPosts))})}}).finally((function(){}))}}))}var Dt=Object(I.a)(Pt||(Pt=b()(["\n  query($id: ID!) {\n    allPosts(sortBy: createdAt_DESC, where: { createdBy: { id: $id } }) {\n      id\n      images {\n        file {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function Mt(e){var t=e.UI,n=e.id,r=Object(O.a)(Dt,{variables:{id:n}}),a=r.loading,i=r.error,l=r.data,c=(void 0===l?{}:l).allPosts,u=void 0===c?[]:c;return o.a.createElement(t,{loading:a,error:i,posts:u})}var Ht,Nt=n(49);function Ft(e){var t=e.error,n=e.loading,r=e.posts;return n?o.a.createElement(_t,null):t?"error":o.a.createElement(i.HStack,{maxw:"full",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},r.map((function(e){return o.a.createElement(i.Box,{key:e.id,minW:["49%","32%","24%"],m:"0.5%",borderWidth:"1",borderColor:"gray.100",rounded:"10",overflow:"hidden"},o.a.createElement(X.a,{to:{screen:"posts",params:{id:null==e?void 0:e.id}}},o.a.createElement(kt,{key:e.id,item:e})))})))}function Lt(e){var t=Object(Nt.o)().params,n=(void 0===t?{}:t).id;return o.a.createElement(Mt,m()({},e,{UI:Ft,id:n}))}var Yt=Object(I.a)(Ht||(Ht=b()(["\n  mutation($id: ID!, $data: InteractiveUpdateInput) {\n    updateInteractive(id: $id, data: $data) {\n      comments {\n        content\n      }\n    }\n  }\n"])));function Vt(e){var t=e.UI,n=e.interactive,r=e.refetch,a=Object(ae.a)(Yt,{onCompleted:function(e){r()}}),i=ne()(a,2),l=i[0],c=i[1],u=c.loading,d=c.error;c.data;return o.a.createElement(t,{loading:u,error:d,on:l,interactive:n})}function qt(e){var t,n=e.loading,r=(e.error,e.on),l=e.interactive,c=Object(a.useState)(""),u=ne()(c,2),d=u[0],m=u[1],s=Object(a.useContext)(L).user;return n?"...":o.a.createElement(i.Box,{mx:"auto",w:"full"},o.a.createElement(i.HStack,{space:"2",display:"flex",flexDirection:"row",w:"full"},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==s||null==(t=s.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Alternate Text",size:"8",mx:"auto",rounded:"100"}),o.a.createElement(i.Box,{flex:"1"},o.a.createElement(i.Input,{name:"comment",type:"text",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:"8",_focus:{borderColor:"gray.100"},placeholder:"Vi\u1ebft b\xecnh lu\u1eadn ...",value:d,onChange:function(e){m(e.target.value)},onSubmitEditing:function(e){e.target.value.trim().length&&(n||r({variables:{id:null==l?void 0:l.id,data:{comments:{create:{content:d}}}}}),m(""))}}))))}function Gt(e){return o.a.createElement(Vt,m()({},e,{UI:qt}))}var Kt=n(393);var Xt,Jt=function(e){var t=e.onPress,n=e.count;return n?o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",leftIcon:o.a.createElement(Kt.a,{size:"16"}),onPress:t,fontFamily:"body"},"Xem c\xe2u tr\u1ea3 l\u1eddi ("+n+")"):o.a.createElement(i.Box,null)};var Zt,Qt=Object(I.a)(Xt||(Xt=b()(["\n  query(\n    $first: Int\n    $skip: Int\n    $sortBy: [SortInteractiveCommentsBy!]\n    $where: InteractiveWhereInput\n  ) {\n    _allInteractivesMeta(where: $where) {\n      count\n    }\n    allInteractives(where: $where) {\n      id\n      comments(sortBy: $sortBy, first: $first, skip: $skip) {\n        id\n        content\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n        my_interactive {\n          id\n          reactions {\n            id\n            emoji\n            createdBy {\n              id\n            }\n          }\n          _reactionsMeta {\n            count\n          }\n        }\n      }\n      _commentsMeta {\n        count\n      }\n      reactions {\n        id\n        emoji\n        createdBy {\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n    }\n  }\n"])));function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var tn,nn=Object(I.a)(Zt||(Zt=b()(["\n  query(\n    $id: ID!\n    $sortBy: [SortInteractiveCommentsBy!]\n    $first: Int\n    $where: InteractiveWhereInput\n  ) {\n    allInteractives(where: $where) {\n      id\n      comments(sortBy: $sortBy, first: $first) {\n        id\n        content\n        createdAt\n        createdBy {\n          name\n          avatar {\n            publicUrl\n          }\n        }\n        interactive {\n          id\n          _commentsMeta {\n            count\n          }\n        }\n      }\n      reactions {\n        id\n        emoji\n        createdBy {\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n    }\n  }\n"])));function rn(e){var t=e.UI,n=e.id,r=e.where,a=e.sortBy,i=e.first,l=void 0===i?3:i,c=e.skip,u=Object(O.a)(n?nn:Qt,{variables:n?{id:n,sortBy:a,first:l}:{where:r,sortBy:a,first:l,skip:c}}),d=u.loading,m=u.error,s=u.data,p=void 0===s?{}:s,g=u.fetchMore,f=u.refetch,h=p.allInteractives,v=p.Interactive,b=h||[v],E=ne()(b,1)[0],y=null!=E&&E.comments.length?E.comments.length:0,w=null!=E&&E._commentsMeta.count?E._commentsMeta.count:0;return o.a.createElement(t,{loading:d,error:m,interactive:E,getMore:function(e){d||m||w<=y||g({variables:{first:y+l},updateQuery:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.fetchMoreResult)}})},refetch:f,count:w})}var an,on=Object(I.a)(tn||(tn=b()(["\n  mutation($id: ID!) {\n    deleteInteractiveComment(id: $id) {\n      id\n      content\n    }\n  }\n"])));function ln(e){var t=e.UI,n=e.id,r=e.refetch,a=void 0===r?function(){}:r,i=Object(ae.a)(on,{onCompleted:function(e){a(),refectInteractiveItem()}}),l=ne()(i,2),c=l[0],u=l[1],d=u.loading,m=u.error,s=u.data,p=(void 0===s?{}:s).deleteInteractiveComment;return o.a.createElement(t,{loading:d,error:m,clickDetete:function(){c({variables:{id:n}})},comment:p})}function cn(e){var t=e.loading,n=(e.error,e.comment,e.clickDetete);return t?"...":o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:function(e){n()}},"Xo\xe1")}function un(e){return o.a.createElement(ln,m()({},e,{UI:cn}))}var dn,mn,sn,pn=Object(I.a)(an||(an=b()(["\n  mutation($id: ID!) {\n    deleteInteractiveReaction(id: $id) {\n      id\n      emoji\n    }\n  }\n"])));Object(I.a)(dn||(dn=b()(["\n  mutation ($id: ID!, $data: InteractiveUpdateInput) {\n    updateInteractive(id: $id, data: $data) {\n      reactions {\n        emoji\n      }\n    }\n  }\n"]))),Object(I.a)(mn||(mn=b()(["\n  mutation ($id: ID!, $data: InteractiveUpdateInput) {\n    updateInteractive(id: $id, data: $data) {\n      id\n      reactions {\n        id\n        emoji\n      }\n      _reactionsMeta {\n        count\n      }\n    }\n  }\n"])));var gn=Object(I.a)(sn||(sn=b()(["\n  mutation ($data: InteractiveReactionCreateInput) {\n    createInteractiveReaction(data: $data) {\n      id\n    }\n  }\n"])));function fn(e){var t=e.UI,n=e.interactive,r=void 0===n?{}:n,a=e.refetch,i=void 0===a?function(){}:a,l=e.reactions,c=e.loading,u=r.reacted||[],d=ne()(u,1)[0],m=Object(ae.a)(gn,{onCompleted:function(e){console.log(e),i()},onError:function(e){console.log(e)}}),s=ne()(m,2),p=s[0],g=s[1],f=Object(ae.a)(pn,{onCompleted:function(e){i()}}),h=ne()(f,2),x=h[0],v=h[1];return o.a.createElement(t,{loading:c,interactive:r,reacted:d,handleClick:function(e){c||(d?(console.log("unlike",d),x({variables:{id:d.id}})):r&&(console.log("like",r),p({variables:{data:{interactive:{connect:{id:r.id}},emoji:"like"}}})))},createResult:g,deleteResult:v,reactions:l})}function hn(e){e.interactive;var t=e.handleClick,n=e.createResult,r=e.deleteResult,l=(e.reactions,e.reacted);return n.loading||r.loading?"...":o.a.createElement(a.Fragment,null,l?o.a.createElement(i.Button,{_text:{color:"green.500",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:t},"Th\xedch"):o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:t},"Th\xedch"))}function xn(e){return o.a.createElement(fn,m()({},e,{UI:hn}))}var vn,bn=n(72);function En(e){e.interactive;var t=e.handleClick,n=e.createResult,r=e.deleteResult,l=(e.reactions,e.reacted);return n.loading||r.loading?"...":o.a.createElement(a.Fragment,null,l?o.a.createElement(i.Button,{_text:{color:"green.500",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:o.a.createElement(bn.b,{color:"#22c55e",size:"17"}),_hover:{bgColor:"gray.100"},onPress:t},"Th\xedch"):o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:o.a.createElement(bn.f,{color:"#a1a1aa",size:"17"}),_hover:{bgColor:"gray.100"},onPress:t},"Th\xedch"))}function yn(e){return o.a.createElement(fn,m()({},e,{UI:En}))}Object(I.a)(vn||(vn=b()(["\n  query($where: InteractiveReactionWhereInput) {\n    _allInteractiveReactionsMeta(where: $where) {\n      count\n    }\n    allInteractiveReactions(where: $where) {\n      id\n      emoji\n    }\n  }\n"])));function wn(e){var t=e.UI,n=(e.where,e._allReactionsMeta),r=e.countLikeComment;return o.a.createElement(t,{_allReactionsMeta:n,countLikeComment:r})}function Cn(e){var t=e.loading,n=(e.error,e.allReactions,e.countLikeComment);return t?o.a.createElement(i.Text,null,"..."):o.a.createElement(i.Text,{color:"gray.400",fontSize:"12",fontWeight:"600"},n," l\u01b0\u1ee3t th\xedch")}function Bn(e){return o.a.createElement(wn,m()({},e,{UI:Cn}))}function In(e){var t=e.loading,n=(e.error,e.allReactions,e._allReactionsMeta);return t?o.a.createElement(i.Text,null,"..."):o.a.createElement(i.HStack,{alignItems:"center",space:"1"},o.a.createElement(bn.b,{color:"#22c55e",size:"16"}),o.a.createElement(i.Text,{color:"gray.800",fontSize:"14",fontWeight:"500"},null==n?void 0:n.count," l\u01b0\u1ee3t th\xedch"))}function Sn(e){return o.a.createElement(wn,m()({},e,{UI:In}))}var On,kn,jn=["UI","first","sortBy","skip","where","refetchInteractiveItem","existing"],Wn=Object(I.a)(On||(On=b()(["\n  query (\n    $first: Int\n    $skip: Int\n    $where: InteractiveCommentWhereInput\n    $sortBy: [SortInteractiveCommentsBy!]\n  ) {\n    _allInteractiveCommentsMeta(where: $where) {\n      count\n    }\n    allInteractiveComments(\n      first: $first\n      skip: $skip\n      where: $where\n      sortBy: $sortBy\n    ) {\n      id\n      content\n    }\n  }\n"])));function Un(e){var t=e.UI,n=e.first,r=void 0===n?5:n,i=e.sortBy,l=void 0===i?"createdAt_DESC":i,c=e.skip,u=e.where,d=e.refetchInteractiveItem,s=e.existing,g=void 0===s?{}:s,f=p()(e,jn);if(g.comments)return o.a.createElement(t,{allInteractiveComments:g.comments,refetch:g.refetch});var h=Object(O.a)(Wn,{variables:{first:r,skip:c,where:u,sortBy:l}}),x=h.loading,v=h.error,b=h.data,E=void 0===b?{}:b,y=(h.refetch,E._allInteractiveCommentsMeta),w=void 0===y?{}:y,C=E.allInteractiveComments,B=w.count;return Object(a.useMemo)((function(){return o.a.createElement(t,m()({},f,{loading:x,error:v,allInteractiveComments:C,count:B,refetchInteractiveItem:d}))}),[x,v,E])}var _n=Object(I.a)(kn||(kn=b()(["\n  query ($id: ID!) {\n    InteractiveComment(where: { id: $id }) {\n      id\n      content\n      createdAt\n      createdBy {\n        name\n        avatar {\n          publicUrl\n        }\n        id\n      }\n      my_interactive {\n        id\n      }\n    }\n  }\n"])));function zn(e){var t=e.UI,n=e.id,r=e.where,a=e.existing,i=void 0===a?{}:a;if(i.comment)return o.a.createElement(t,{comment:i.comment,refetch:i.refetch});var l=Object(O.a)(n?_n:Wn,{variables:n?{id:n}:{where:r}}),c=l.loading,u=l.error,d=l.data,m=void 0===d?{}:d,s=m.allInteractiveComments,p=m.InteractiveComment,g=s||[p],f=ne()(g,1)[0];return o.a.createElement(t,{loading:c,error:u,comment:f,refetchInteractiveItem:refetchInteractiveItem})}function $n(e){var t=e.loading,n=(e.error,e.allInteractiveComments),r=void 0===n?[]:n,a=e.count,l=void 0===a?0:a,c=e.refetch,u=e.getMore;return t?"...":o.a.createElement(i.VStack,null,r.map((function(e){return o.a.createElement(Dn,{key:e.id,existing:{comment:e,refetch:c}})})),l>r.length&&o.a.createElement(i.Button,{_text:{color:"gray.500",fontSize:"12",fontWeight:"600"},p:"0",bgColor:"transparent",onPress:u},"Xem th\xeam b\xecnh lu\u1eadn"))}function Tn(e){return o.a.createElement(Un,m()({},e,{UI:$n}))}function Pn(e){var t=e.loading,n=(e.error,e.interactive),r=e.refetch;e.getMore,e.count;return t?"...":o.a.createElement(i.Box,{w:"full"},o.a.createElement(Gt,{my:"10",interactive:n,refetch:r}),o.a.createElement(Tn,{existing:{comments:null==n?void 0:n.comments,refetch:r}}))}function Rn(e){return o.a.createElement(rn,m()({},e,{UI:Pn}))}function An(e){var t,r,l,c,u,d,m,s,p,g,f,h=e.loading,x=(e.error,e.comment),v=void 0===x?{}:x,b=e.refetch,E=Object(a.useContext)(L).user.user,y=Object(a.useState)(!1),w=ne()(y,2),C=w[0],B=(w[1],function(e){var t=n(197),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==v?void 0:v.createdAt)),I=v.interactive,S=(void 0===I?{}:I)._commentsMeta,O=(void 0===S?{}:S).count,k=void 0===O?0:O;return h?"":o.a.createElement(i.Box,{mx:"auto",my:"2",w:"full"},o.a.createElement(i.VStack,null,o.a.createElement(i.HStack,{space:"2",display:"flex",flexDirection:"row",w:"full"},o.a.createElement(X.a,{to:{screen:"users",params:{id:null==v||null==(t=v.createdBy)?void 0:t.id}}},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==v||null==(r=v.createdBy)||null==(l=r.avatar)?void 0:l.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"})),o.a.createElement(i.VStack,{flex:"1"},o.a.createElement(i.HStack,null,o.a.createElement(i.Box,{bgColor:"gray.50",rounded:"8",px:"3",py:"2",flex:"1"},o.a.createElement(X.a,{to:{screen:"users",params:{id:null==v||null==(c=v.createdBy)?void 0:c.id}}},o.a.createElement(i.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==v||null==(u=v.createdBy)?void 0:u.name)),o.a.createElement(i.Text,{color:"gray.700",lineHeight:"18"},null==v?void 0:v.content))),o.a.createElement(i.HStack,{ml:"3",mt:"1",space:"3"},o.a.createElement(xn,{interactive:v.my_interactive,refetch:b,reactions:null==(d=v.my_interactive)?void 0:d.reactions}),(null==v||null==(m=v.createdBy)?void 0:m.id)===(null==E?void 0:E.id)&&o.a.createElement(un,{id:null==v?void 0:v.id,refetch:b}),o.a.createElement(Bn,{countLikeComment:null==v||null==(s=v.my_interactive)||null==(p=s._reactionsMeta)?void 0:p.count}),o.a.createElement(i.Text,{color:"gray.400",fontSize:"12"},B)),o.a.createElement(i.HStack,{ml:"3",mt:"1"},o.a.createElement(Jt,{count:k}),C&&(null==v||null==(g=v.interactive)?void 0:g.id)&&o.a.createElement(Rn,{id:null==v||null==(f=v.my_interactive)?void 0:f.id}))))))}function Dn(e){return o.a.createElement(zn,m()({},e,{UI:An}))}var Mn,Hn=function(){return o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:o.a.createElement(bn.d,{color:"#a1a1aa",size:"17"}),_hover:{bgColor:"gray.100"},onPress:function(e){console.log("Comment List ToggleButton")}},"B\xecnh lu\u1eadn")};Object(I.a)(Mn||(Mn=b()(["\n  mutation($id: ID!, $data: InteractiveCommentUpdateInput) {\n    updateInteractiveComment(id: $id, data: $data) {\n      id\n      content\n    }\n  }\n"])));var Nn=[{id:1,link:"#",thumbnailUrl:"https://vcdn1-dulich.vnecdn.net/2018/10/27/home-venice-italy.jpg?w=1200&h=0&q=100&dpr=1&fit=crop&s=PnlZagm9qKzpioNh9CVmUA"},{id:2,link:"#",thumbnailUrl:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632806027/241259419_246687107340299_4139464774758156957_n_s1zuao.jpg"},{id:3,link:"#",thumbnailUrl:"https://static.toiimg.com/photo/84475061.cms"},{id:4,link:"#",thumbnailUrl:"http://tonyenglish.vn/uploads/news/2019/0106/1546787257_MW-GY949_travel_20181122135819_ZH.jpg"},{id:5,link:"#",thumbnailUrl:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632719776/190312313_2943016239348813_282704590362946930_n_pc3vbb.jpg"},{id:6,link:"#",thumbnailUrl:"https://tuandungtravel.com/wp-content/uploads/2019/07/du-lich-ba-na-hills-tuan-dung-travel-9.jpg"}];var Fn=function(e){return o.a.createElement(i.VStack,{w:"full"},o.a.createElement(i.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},o.a.createElement(i.Text,{fontSize:"18px",fontWeight:"600",color:"gray.700"},"B\xe0i vi\u1ebft b\u1ea1n \u0111\xe3 l\u01b0u")),o.a.createElement(i.HStack,{maxw:"full",w:"full",flexWrap:"wrap",justifyContent:"flex-start"},Nn.map((function(e){return o.a.createElement(i.Box,{key:e.id,minW:["49%","32%","24%"],m:"0.5%",borderWidth:"1px",borderColor:"gray.100",rounded:"10px",overflow:"hidden"},o.a.createElement(kt,{key:e.id,item:e}))}))))};var Ln=function(){var e=Object(a.useState)(!1),t=ne()(e,2),n=t[0],r=t[1],l=function(e){r((function(e){return!e})),console.log("Album Create Button")};return o.a.createElement(a.Fragment,null,n&&o.a.createElement(i.Button,{_text:{color:"green.500",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:o.a.createElement(bn.a,{color:"#22c55e",size:"17"}),_hover:{bgColor:"gray.100"},onPress:l},"L\u01b0u"),!n&&o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",bgColor:"transparent",leftIcon:o.a.createElement(bn.c,{color:"#a1a1aa",size:"17"}),_hover:{bgColor:"gray.100"},onPress:l},"L\u01b0u"))},Yn=n(181);var Vn,qn=function(e){var t=e.urls,n=void 0===t?[]:t,r={position:"absolute",top:"50%",color:"gray.700",p:"1",fontSize:"20",bgColor:"white",opacity:"0.6",rounded:"50%"},l=Object(a.useState)(0),c=ne()(l,2),u=c[0],d=c[1],s=n.length,p={ml:"-"+100*u+"%"};return o.a.createElement(i.Flex,{w:"full",alignItems:"center",justifyContent:"center"},o.a.createElement(i.Flex,{w:"full",direction:"row",overflow:"hidden",position:"relative"},o.a.createElement(i.Flex,m()({direction:"row",w:"full"},p),n.map((function(e,t){return o.a.createElement(i.Box,{key:"slide-"+t,boxSize:"100%",flex:"none"},o.a.createElement(i.Image,{src:e,alt:"Slide Image",backgroundSize:"cover",flex:"1",p:"50%"}))}))),o.a.createElement(i.Button,m()({},r,{left:"3",onPress:function(){d((function(e){return 0===e?s-1:e-1}))}}),o.a.createElement(Yn.a,{size:"16"})),o.a.createElement(i.Button,m()({},r,{right:"3",onPress:function(){d((function(e){return e===s-1?0:e+1}))}}),o.a.createElement(Yn.b,{size:"16"})),o.a.createElement(i.HStack,{direction:"row",position:"absolute",bottom:"2",right:"2"},Array.from({length:s}).map((function(e,t){return o.a.createElement(i.Button,{key:"dots-"+t,w:"1",m:"0.5",p:"1",rounded:"50%",opacity:"0.8",bgColor:u===t?"green.500":"white",onPress:function(){return function(e){d(e)}(t)}})})))))},Gn=n(83),Kn=Object(I.a)(Vn||(Vn=b()(["\n  query ($id: ID!) {\n    Post(where: { id: $id }) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n        comments(first: 5, sortBy: createdAt_DESC) {\n          id\n          content\n        }\n        reactions {\n          id\n          emoji\n          createdBy {\n            id\n          }\n        }\n        _commentsMeta {\n          count\n        }\n        _reactionsMeta {\n          count\n        }\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function Xn(e){var t=e.UI,n=e.id,r=e.where,a=e.existing,i=void 0===a?{}:a;if(i.post)return o.a.createElement(t,{post:i.post,refetch:i.refetch});if(!n)return"invalid";var l=Object(O.a)(n?Kn:Rt,{variables:n?{id:n}:{where:r}}),c=l.loading,u=l.error,d=l.data,m=void 0===d?{}:d,s=l.refetch,p=m.allPosts,g=m.Post,f=p||[g],h=ne()(f,1)[0];return o.a.createElement(t,{loading:c,error:u,post:h,refetch:s})}function Jn(e){var t,r,l,c,u,d,m,s,p=e.loading,g=(e.error,e.post),f=void 0===g?{}:g,h=e.refetch,x=void 0===h?function(){}:h,v=Object(a.useContext)(L).user,b=Object(a.useState)(!1),E=ne()(b,2),y=E[0],w=E[1],C=function(e){var t=n(197),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==f?void 0:f.createdAt);return p?"...":o.a.createElement(i.Box,{maxW:["100%","container.md"],my:1,py:4,rounded:["0","xl"],borderWidth:"1",borderColor:"gray.100"},o.a.createElement(i.HStack,{space:"3",display:"flex",flexDirection:"row",px:"3",alignItems:"center",position:"relative",zIndex:"1"},o.a.createElement(X.a,{to:{screen:"users",params:{id:null==f||null==(t=f.createdBy)?void 0:t.id}}},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==f||null==(r=f.createdBy)||null==(l=r.avatar)?void 0:l.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"})),o.a.createElement(X.a,{to:{screen:"users",params:{id:null==f||null==(c=f.createdBy)?void 0:c.id}}},o.a.createElement(i.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==f||null==(u=f.createdBy)?void 0:u.name)),o.a.createElement(i.Text,{color:"gray.400",fontSize:"12"},C),y&&f.createdBy.id===v.id&&o.a.createElement(i.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},o.a.createElement(hr,null),o.a.createElement(i.Divider,{w:"full",bgColor:"gray.100"}),f&&o.a.createElement(Er,{id:null==f?void 0:f.id})),f.createdBy&&f.createdBy.id===v.id&&o.a.createElement(i.Button,{bgColor:"transparent",p:"1",color:"gray.500",ml:"auto",onPress:function(){w((function(e){return!e})),console.log(y)}},o.a.createElement(Gn.c,null))),o.a.createElement(i.Text,{px:"3",my:"2"},f.content),o.a.createElement(qn,{urls:null==f||null==(d=f.images)?void 0:d.map((function(e){var t;return"https://odanang.net"+(null==e||null==(t=e.file)?void 0:t.publicUrl)}))}),o.a.createElement(i.Box,{px:"3",mt:"2"},o.a.createElement(Sn,{_allReactionsMeta:null==f||null==(m=f.interactive)?void 0:m._reactionsMeta})),o.a.createElement(i.Box,{px:"3"},o.a.createElement(i.HStack,{w:"full",my:"2",borderBottomWidth:"1",borderBottomColor:"gray.100",borderTopWidth:"1",borderTopColor:"gray.100",justifyContent:"space-around"},o.a.createElement(i.Box,{w:"33%"},o.a.createElement(yn,{interactive:f.interactive,refetch:x,reactions:null==f||null==(s=f.interactive)?void 0:s.reactions})),o.a.createElement(i.Box,{w:"33%"},o.a.createElement(Hn,null)),o.a.createElement(i.Box,{w:"33%"},o.a.createElement(Ln,null))),o.a.createElement(Pn,{interactive:null==f?void 0:f.interactive,refetch:x})))}function Zn(e){return o.a.createElement(Xn,m()({},e,{UI:Jn}))}var Qn=function(e){return o.a.createElement(i.Box,{maxW:"700",w:"full",p:"2"},o.a.createElement(jt.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 700 720",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},o.a.createElement(Wt.b,{x:"70",y:"15",rx:"10",ry:"10",width:"180",height:"20"}),o.a.createElement(Wt.b,{x:"270",y:"15",rx:"10",ry:"10",width:"80",height:"20"}),o.a.createElement(Wt.b,{x:"0",y:"70",rx:"10",ry:"10",width:"500",height:"20"}),o.a.createElement(Wt.b,{x:"0",y:"110",rx:"10",ry:"10",width:"700",height:"550"}),o.a.createElement(Wt.a,{cx:"25",cy:"25",r:"25"})))};function er(e){var t=e.loading,n=e.error,r=e.allPosts,a=e.count,l=e.loadMore,c=e.refetch;return t||n?o.a.createElement(Qn,null):o.a.createElement(i.VStack,{px:["0","1"]},r.map((function(e){return o.a.createElement(Zn,{key:e.id,existing:{post:e,refetch:c}})})),a>r.length&&o.a.createElement(i.Button,{my:3,colorScheme:"green",onPress:l},"T\u1ea3i th\xeam b\xe0i vi\u1ebft"))}function tr(e){return o.a.createElement(At,m()({},e,{UI:er}))}var nr,rr=function(){return o.a.createElement(i.Box,{maxW:"1000",w:"full",mx:"auto"},o.a.createElement(jt.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 1000 700",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},o.a.createElement(Wt.b,{x:"620",y:"15",rx:"40",ry:"40",width:"40",height:"40"}),o.a.createElement(Wt.b,{x:"680",y:"25",rx:"10",ry:"10",width:"150",height:"20"}),o.a.createElement(Wt.b,{x:"620",y:"70",rx:"10",ry:"10",width:"380",height:"25"}),o.a.createElement(Wt.b,{x:"620",y:"120",rx:"10",ry:"10",width:"380",height:"100"}),o.a.createElement(Wt.b,{x:"620",y:"235",rx:"10",ry:"10",width:"380",height:"100"}),o.a.createElement(Wt.b,{x:"620",y:"350",rx:"10",ry:"10",width:"380",height:"100"}),o.a.createElement(Wt.b,{x:"620",y:"465",rx:"10",ry:"10",width:"380",height:"100"}),o.a.createElement(Wt.b,{x:"0",y:"15",rx:"10",ry:"10",width:"600",height:"550"})))},ar=Object(I.a)(nr||(nr=b()(["\n  query($id: ID!) {\n    Post(where: { id: $id }) {\n      id\n      content\n      tags {\n        content\n      }\n      images {\n        file {\n          publicUrl\n        }\n      }\n      interactive {\n        id\n        comments {\n          content\n        }\n        reactions {\n          id\n          emoji\n          createdBy {\n            id\n          }\n        }\n        _commentsMeta {\n          count\n        }\n        _reactionsMeta {\n          count\n        }\n      }\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n    }\n  }\n"])));function or(e){var t=e.UI,n=e.id,r=Object(O.a)(ar,{variables:{id:n}}),a=r.loading,i=r.error,l=r.data,c=void 0===l?{}:l,u=r.refetch,d=c.Post;return console.log(d),o.a.createElement(t,{loading:a,error:i,post:d,refetch:u})}function ir(e){var t,r,l,c,u,d,m,s,p,g,f=e.loading,h=(e.error,e.post),x=e.refetch,v=Object(a.useState)(!1),b=ne()(v,2),E=b[0],y=b[1],w=Object(a.useContext)(L).user,C=function(e){var t=n(197),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}(null==h?void 0:h.createdAt);return console.log(h),f?o.a.createElement(rr,null):o.a.createElement(i.Stack,{direction:["column","column","column","row"],mx:"auto",my:"3",w:["100%","90%","80%","100%"],rounded:["0","xl"],borderWidth:"1",borderColor:"gray.100"},o.a.createElement(i.Box,{w:["100%","100%","100%","60%"]},o.a.createElement(qn,{urls:null==h||null==(t=h.images)?void 0:t.map((function(e){var t;return"https://odanang.net"+(null==e||null==(t=e.file)?void 0:t.publicUrl)}))})),o.a.createElement(i.VStack,{maxW:["100%","100%","100%","40%"],py:"3",px:["0","0","1"]},o.a.createElement(i.HStack,{space:"3",display:"flex",flexDirection:"row",w:"full",px:"3",alignItems:"center",position:"relative",zIndex:"1"},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==h||null==(r=h.createdBy)||null==(l=r.avatar)?void 0:l.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",rounded:"100"}),o.a.createElement(X.a,{to:{screen:"users",params:{id:null==h||null==(c=h.createdBy)?void 0:c.id}}},o.a.createElement(i.Text,{color:"gray.900",fontWeight:"600",fontSize:"14"},null==h||null==(u=h.createdBy)?void 0:u.name)),o.a.createElement(i.Text,{color:"gray.400",fontSize:"12"},C),E&&o.a.createElement(i.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},o.a.createElement(hr,null),o.a.createElement(i.Divider,{w:"full",bgColor:"gray.100"}),o.a.createElement(Er,null)),E&&(null==h||null==(d=h.createdBy)?void 0:d.id)===(null==w?void 0:w.id)&&o.a.createElement(i.VStack,{position:"absolute",right:"3",top:"8",borderColor:"gray.100",borderWidth:"1",bgColor:"white",rounded:"10",space:"1",p:"2"},o.a.createElement(hr,null),o.a.createElement(i.Divider,{w:"full",bgColor:"gray.100"}),o.a.createElement(Er,{id:null==h?void 0:h.id})),(null==h||null==(m=h.createdBy)?void 0:m.id)===(null==w?void 0:w.id)&&o.a.createElement(i.Button,{bgColor:"transparent",p:"1",color:"gray.500",ml:"auto",onPress:function(){y((function(e){return!e})),console.log(E)}},o.a.createElement(Gn.c,null))),o.a.createElement(i.Text,{px:"3",my:"2"},null==h?void 0:h.content),o.a.createElement(i.Box,{px:"3",mt:"2"},o.a.createElement(Sn,{_allReactionsMeta:null==h||null==(s=h.interactive)?void 0:s._reactionsMeta})),o.a.createElement(i.Box,{px:"3"},o.a.createElement(i.HStack,{w:"full",my:"2",borderBottomWidth:"1",borderBottomColor:"gray.100",borderTopWidth:"1",borderTopColor:"gray.100",justifyContent:"space-around"},o.a.createElement(i.Box,{w:"33%"},o.a.createElement(yn,{interactive:null==h?void 0:h.interactive,refetch:x,reactionsList:null==h||null==(p=h.interactive)?void 0:p.reactions})),o.a.createElement(i.Box,{w:"33%"},o.a.createElement(Hn,null)),o.a.createElement(i.Box,{w:"33%"},o.a.createElement(Ln,null))),o.a.createElement(Rn,{where:{id:null==h||null==(g=h.interactive)?void 0:g.id},sortBy:"createdAt_DESC"}))))}function lr(e){return o.a.createElement(or,m()({},e,{UI:ir}))}var cr,ur,dr=function(){var e,t=Object(a.useContext)(L).user;return o.a.createElement(i.Box,{mt:"2",mx:"0",w:"full",px:["0","1"]},o.a.createElement(i.HStack,{space:"4",alignItems:"center",w:"full",p:"3",my:"2",rounded:["0","12"],borderWidth:"1",borderColor:"gray.100"},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==t||null==(e=t.avatar)?void 0:e.publicUrl)||"/upload/img/no-image.png")},alt:"Profile image",size:"8",mx:"auto",rounded:"100"}),o.a.createElement(i.Box,{flex:"1"},o.a.createElement(i.Text,{color:"gray.500",fontSize:"15"},"B\u1ea1n \u0111ang ngh\u0129 g\xec?")),o.a.createElement(X.a,{to:{screen:"newpost"}},o.a.createElement(i.Button,{bgColor:"green.500",_text:{color:"white",fontSize:["13","14"],fontWeight:"600"},rounded:"8",py:"2",px:"4",onPress:function(){}},"TH\xcaM B\xc0I VI\u1ebeT"))))},mr=(n(810),Object(I.a)(cr||(cr=b()(["\n  mutation($data: PostCreateInput) {\n    createPost(data: $data) {\n      id\n      content\n      tags {\n        content\n      }\n    }\n  }\n"]))));function sr(e){var t=e.UI,n=e.post,r=e.navigation,a=Object(we.a)(void 0),i=Object(ae.a)(mr,{onCompleted:function(e){a(),r.navigate("home")}}),l=ne()(i,2),c=l[0],u=l[1],d=u.loading,m=u.error,s=u.data,p=void 0===s?{}:s;if(d)return"...";if(m)return m.message;var g=p.createPost;return o.a.createElement(t,{loading:d,error:m,on:c,createPost:g,post:n})}function pr(e){var t=e.loading,n=e.error,r=e.on,l=Object(a.useRef)(),c=Object(a.useState)(""),u=ne()(c,2),d=u[0],m=u[1];return o.a.createElement(i.Box,{maxW:"560",mx:"auto",w:"full",p:"2"},o.a.createElement(i.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"),o.a.createElement(i.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},o.a.createElement(i.VStack,{space:3},o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"N\u1ed9i dung b\xe0i vi\u1ebft"),o.a.createElement(i.TextArea,{placeholder:"Nh\u1eadp n\u1ed9i dung ...",w:"full",onChange:function(e){var t=e.target.value;m(t)},ref:l,name:"content",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),!t&&o.a.createElement(i.Button,{onPress:function(e){r({variables:{data:{content:d,interactive:{create:{comments:null,reactions:null}}}}})},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110\u0102NG NGAY"),t&&o.a.createElement(i.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),n&&o.a.createElement(i.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},o.a.createElement(Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng ki\u1ec3m tra c\xe1c th\xf4ng tin")))}function gr(e){var t=Object(Nt.m)();return o.a.createElement(sr,m()({},e,{UI:pr,navigation:t}))}Object(I.a)(ur||(ur=b()(["\n  mutation($id: ID!, $data: UpdatePostInput) {\n    updatePost(id: $id, data: $data) {\n      id\n      content\n      tags {\n        content\n      }\n    }\n  }\n"])));var fr,hr=function(){return o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"3",py:"1.5",bgColor:"transparrent",onPress:function(e){console.log("Post Update Text")},leftIcon:o.a.createElement(bn.e,{color:"#22c55e",fontSize:"16"})},"S\u1eeda b\xe0i vi\u1ebft")},xr=Object(I.a)(fr||(fr=b()(["\n  mutation($id: ID!) {\n    deletePost(id: $id) {\n      id\n      content\n    }\n  }\n"])));function vr(e){var t=e.UI,n=e.id,r=Object(we.a)(void 0),a=Object(ae.a)(xr,{onCompleted:function(e){r()}}),i=ne()(a,2),l=i[0],c=i[1],u=c.loading,d=c.error,m=c.data,s=(void 0===m?{}:m).deletePost;return o.a.createElement(t,{loading:u,error:d,clickDetete:function(){l({variables:{id:n}})},post:s})}function br(e){var t=e.loading,n=(e.error,e.clickDetete);e.post;return t?"...":o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"12",fontWeight:"600"},p:"3",py:"1.5",bgColor:"transparrent",onPress:function(e){n()},leftIcon:o.a.createElement(bn.g,{color:"#22c55e",fontSize:"15"})},"Xo\xe1 b\xe0i vi\u1ebft")}function Er(e){return o.a.createElement(vr,m()({},e,{UI:br}))}var yr=function(e){return o.a.createElement(i.Box,{maxW:"1005",w:"full",mx:"auto",p:"1%"},o.a.createElement(jt.a,{speed:"1",w:"full",mx:"auto",viewBox:"0 0 1005 320",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",animate:"true"},o.a.createElement(Wt.a,{cx:"60",cy:"60",r:"60"}),o.a.createElement(Wt.b,{x:"150",y:"10",rx:"15",ry:"15",width:"220",height:"30"}),o.a.createElement(Wt.b,{x:"150",y:"55",rx:"10",ry:"10",width:"150",height:"20"}),o.a.createElement(Wt.b,{x:"150",y:"90",rx:"10",ry:"10",width:"280",height:"20"}),o.a.createElement(Wt.b,{x:"0",y:"160",rx:"10",ry:"10",width:"1005",height:"150"})))};var wr;Object(I.a)(wr||(wr=b()(["\n  query($where: RelationshipWhereInput) {\n    _allRelationshipsMeta(where: $where) {\n      count\n    }\n    allRelationships(where: $where) {\n      id\n    }\n  }\n"])));var Cr,Br=n(396),Ir=["children","round","step","className","strongProps","pProps"],Sr={paragraph:{fontFamily:"Lexend_400Regular",color:"#27272a",lineHeight:"1.5em"},heading1:{fontSize:30,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"2em"},heading2:{fontSize:24,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"1.75em"},heading3:{fontSize:20,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"1.75em"},heading4:{fontSize:18,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"1.5em"},heading5:{fontSize:16,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"1.375em"},heading6:{fontSize:14,fontFamily:"Lexend_600SemiBold",color:"#27272a",lineHeight:"1.25em"},hr:{backgroundColor:"#e4e4e7",height:1,marginBottom:6},bullet_list:{},ordered_list:{},list_item:{flexDirection:"row",justifyContent:"flex-start",fontFamily:"Lexend_400Regular",color:"#27272a",lineHeight:"1.5em"},link:{textDecorationLine:"none",color:"#16a34a"},blockquote:{backgroundColor:"#fafafa",borderColor:"#e4e4e7",borderLeftWidth:3,margin:5,paddingHorizontal:10,paddingVertical:4},table:{borderWidth:"0.5px",borderColor:"#f4f4f5",borderCollapse:"collapse"},thead:{},tbody:{},th:{padding:5,flex:1,borderWidth:"0.5px",borderColor:"#f4f4f5"},tr:{flexDirection:"row"},td:{borderWidth:"0.5px",borderColor:"#f4f4f5",flex:1,padding:5},image:{marginTop:10,marginBottom:10,display:"block"}};function Or(e){var t=e.children,n=void 0===t?"":t;e.round,e.step,e.className,e.strongProps,e.pProps,p()(e,Ir);return Object(a.useMemo)((function(){return o.a.createElement(Br.a,{children:n,style:Sr,mergeStyle:"true"})}),[n])}function kr(e){var t,n,r,l,c=e.loading,u=e.error,d=e.user,m=e.posts,s=e.relationship,p=e.count,g=Object(a.useContext)(L).user;return c?o.a.createElement(yr,null):u?"error":o.a.createElement(i.VStack,{maxw:"full",mx:"auto",my:"5",w:"full",space:"4"},o.a.createElement(i.HStack,{space:"7",m:"1%",alignItems:"center"},o.a.createElement(i.Box,null,o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==d||null==(t=d.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Alternate Text",w:["100px","120px"],h:["100px","120px"],rounded:"100"})),o.a.createElement(i.VStack,{flex:"1",space:["2","3"]},o.a.createElement(i.HStack,{space:"2"},o.a.createElement(i.Text,{fontSize:["20","22"],fontWeight:"600"},null==d?void 0:d.name),o.a.createElement(i.Button,{bgColor:"transparent",p:"2",color:"gray.500"},o.a.createElement(Gn.c,null))),o.a.createElement(i.HStack,{space:"4"},o.a.createElement(i.Text,{fontSize:"14",color:"gray.500"},o.a.createElement(i.Text,null,m.length)," b\xe0i \u0111\u0103ng"),o.a.createElement(i.Text,{fontSize:"14",color:"gray.500"},p," b\u1ea1n b\xe8")))),o.a.createElement(i.VStack,{space:"2",mx:"1%",my:["1","0"]},o.a.createElement(i.Stack,{space:"2",alignItems:["start","center"],direction:["column","row"]},(null==d?void 0:d.id)!==(null==g?void 0:g.id)&&null===s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"G\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n \u0111\u1ebfn ",d.name),o.a.createElement(i.HStack,{space:"2",w:"100"},o.a.createElement(Me,{toId:null==d?void 0:d.id}))),(null==d?void 0:d.id)!==(null==g?void 0:g.id)&&!0===(null==s?void 0:s.isAccepted)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"B\u1ea1n v\xe0 ",d.name," \u0111\xe3 l\xe0 b\u1ea1n b\xe8"),o.a.createElement(i.HStack,{space:"2"},o.a.createElement(tt,{id:s.id}))),(null==d?void 0:d.id)!==(null==g?void 0:g.id)&&(!1===(null==s?void 0:s.isAccepted)||null===(null==s?void 0:s.isAccepted))&&(null==s||null==(n=s.createdBy)?void 0:n.id)===g.id&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},"B\u1ea1n \u0111\xe3 g\u1eedi k\u1ebft b\u1ea1n \u0111\u1ebfn ",d.name),o.a.createElement(i.HStack,{space:"2"},o.a.createElement(rt,{id:s.id}))),(null==d?void 0:d.id)!==(null==g?void 0:g.id)&&(!1===(null==s?void 0:s.isAccepted)||null===(null==s?void 0:s.isAccepted))&&(null==s||null==(r=s.to)?void 0:r.id)===(null==g?void 0:g.id)&&(null==s||null==(l=s.createdBy)?void 0:l.id)===(null==d?void 0:d.id)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.Text,{mr:"4",fontSize:"15",fontWeight:"600",color:"gray.500"},d.name," \u0111\xe3 g\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n"),o.a.createElement(i.HStack,{space:"2"},o.a.createElement(i.Box,{w:"130px"},o.a.createElement(Je,{id:s.id})),o.a.createElement(i.Box,{w:"130px"},o.a.createElement(rt,{id:s.id})))))),o.a.createElement(i.VStack,{space:"2",m:"1%"},o.a.createElement(i.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"Gi\u1edbi thi\u1ec7u"),o.a.createElement(i.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"}),o.a.createElement(i.Text,{fontSize:"14",fontWeight:"400",color:"gray.600",lineHeight:"26px"},o.a.createElement(Or,null,d.description))),(null==d?void 0:d.id)===(null==g?void 0:g.id)&&o.a.createElement(i.VStack,{space:"2",m:"1%"},o.a.createElement(i.HStack,{justifyContent:"space-between",alignItems:"center"},o.a.createElement(i.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"B\u1ea1n b\xe8"),o.a.createElement(X.a,{to:{screen:"friends"}},o.a.createElement(i.Text,{color:"green.500",textDecoration:"none"},"Xem t\u1ea5t c\u1ea3"))),o.a.createElement(i.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"})),o.a.createElement(i.Box,null,o.a.createElement(i.VStack,{w:"98%",space:"2",m:"1%"},o.a.createElement(i.Text,{fontSize:"18",fontWeight:"600",color:"gray.700"},"B\xe0i vi\u1ebft"),o.a.createElement(i.Divider,{bg:"gray.100",w:"full",my:"1",orientation:"horizontal"})),o.a.createElement(Lt,null)))}function jr(e){return o.a.createElement(We,m()({},e,{UI:kr}))}var Wr=Object(I.a)(Cr||(Cr=b()(["\n    mutation($id: ID!, $data: UserUpdateInput) {\n        updateUser(id: $id, data: $data) {\n            id\n        }\n    }\n  \n"])));function Ur(e){var t=e.UI,n=(e.post,e.navigation,e.user),r=Object(ae.a)(Wr),a=ne()(r,2),i=a[0],l=a[1],c=l.loading,u=l.error;l.data;return o.a.createElement(t,{user:n,loading:c,error:u,on:i})}function _r(e){var t,n=e.loading,r=e.error,l=e.user,c=e.on,u=Object(a.useState)(null==l?void 0:l.name),d=ne()(u,2),m=d[0],s=d[1],p=Object(a.useState)(null==l?void 0:l.phone),g=ne()(p,2),f=g[0],h=g[1],x=Object(a.useState)(null==l?void 0:l.description),v=ne()(x,2),b=v[0],E=v[1],y=Object(a.useState)("male"),w=ne()(y,2),C=w[0],B=w[1],I=Object(a.useState)(null),S=ne()(I,2),O=S[0],k=S[1];return o.a.createElement(a.Fragment,null,o.a.createElement(i.Box,{maxW:"400",w:"full",mx:"auto",mt:"4"},o.a.createElement(i.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"),o.a.createElement(i.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},o.a.createElement(i.VStack,{space:3},o.a.createElement(i.VStack,{space:"4",mb:"3"},o.a.createElement(i.Image,{source:{uri:"https://odanang.net"+((null==l||null==(t=l.avatar)?void 0:t.publicUrl)||"/upload/img/no-image.png")},alt:"Alternate Text",size:"lg",mx:"auto",rounded:"100"}),o.a.createElement(i.Button,{_text:{color:"gray.400",fontSize:"14",fontWeight:"600"},p:"2",rounded:"8",w:"50%",bgColor:"gray.100",mx:"auto"},"Thay \u0111\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n")),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"H\u1ecd v\xe0 t\xean"),o.a.createElement(i.Input,{onChange:function(e){return s(e.target.value)},value:m,name:"username",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),o.a.createElement(i.Input,{onChange:function(e){return h(e.target.value)},value:f,name:"phone",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"Gi\u1edbi thi\u1ec7u"),o.a.createElement(i.TextArea,{onChange:function(e){return E(e.target.value)},value:b,name:"description",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,{mb:"2"},o.a.createElement(i.FormControl.Label,{_text:{color:"gray.800",fontSize:"14",fontWeight:400}},"Gi\u1edbi t\xednh"),o.a.createElement(i.Radio.Group,{name:"sex",accessibilityLabel:"sex",value:C,onChange:function(e){B(e)}},o.a.createElement(i.HStack,{space:"8"},o.a.createElement(i.Radio,{colorScheme:"green",size:"sm",value:"male",borderWidth:"1",borderColor:"gray.300"},o.a.createElement(i.Text,{fontSize:"13",ml:"1.5"},"Nam")),o.a.createElement(i.Radio,{borderWidth:"1",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"female"},o.a.createElement(i.Text,{fontSize:"13",ml:"1.5"},"N\u1eef")),o.a.createElement(i.Radio,{borderWidth:"1",borderColor:"gray.300",colorScheme:"green",size:"sm",value:"other"},o.a.createElement(i.Text,{fontSize:"13",ml:"1.5"},"Kh\xe1c"))))),!n&&o.a.createElement(i.Button,{onPress:function(){k(null),m.trim()&&isNaN(m)&&m.includes(" ")?!f.trim()||10!==f.length&&11!==f.length||isNaN(f)?k("Ki\u1ec3m tra l\u1ea1i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"):(console.log(m,f,b,C),c({variables:{id:null==l?void 0:l.id,data:{name:m,phone:f,description:b,gender:C}}})):k("Ki\u1ec3m tra l\u1ea1i h\u1ecd v\xe0 t\xean")},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"L\u01afU THAY \u0110\u1ed4I"),n&&o.a.createElement(i.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),r&&o.a.createElement(i.Box,{my:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng s\u1eed d\u1ee5ng s\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xe1c")),O&&o.a.createElement(i.Box,{my:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},O))))}function zr(e){return o.a.createElement(Ur,m()({},e,{UI:_r}))}var $r=function(e){var t=e.loading,n=e.error,r=(e.user,e.navigation,Object(a.useRef)()),l=Object(a.useRef)(),c=Object(a.useRef)(),u=Object(a.useState)(null),d=ne()(u,2),m=d[0],s=d[1];return o.a.createElement(a.Fragment,null,o.a.createElement(i.Box,{maxW:"350",w:"full",mx:"auto",mt:"4"},o.a.createElement(i.Heading,{my:"20px",textAlign:"center",fontSize:["18px","20px"]},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),o.a.createElement(i.Box,{px:5,py:7,rounded:10,borderWidth:1,borderColor:"gray.100",bg:"gray.50"},o.a.createElement(i.VStack,{space:3},o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"M\u1eadt kh\u1ea9u c\u0169"),o.a.createElement(i.Input,{ref:r,name:"oldpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"M\u1eadt kh\u1ea9u m\u1edbi"),o.a.createElement(i.Input,{ref:l,name:"newpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),o.a.createElement(i.FormControl,null,o.a.createElement(i.FormControl.Label,{_text:{color:"coolGray.800",fontSize:"14",fontWeight:400}},"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u m\u1edbi"),o.a.createElement(i.Input,{ref:c,name:"confirmpassword",type:"password",bgColor:"white",px:2,py:1.5,fontSize:14,borderWidth:1,borderColor:"gray.100",rounded:6,_focus:{borderColor:"green.500"}})),!t&&o.a.createElement(i.Button,{onPress:function(){s(null);var e=r.current.value,t=l.current.value,n=c.current.value;e.trim().length<6?s("Ki\u1ec3m tra l\u1ea1i m\u1eadt kh\u1ea9u c\u0169"):t.trim().length<6?s("\u0110\u1ed9 d\xe0i m\u1eadt kh\u1ea9u m\u1edbi \xedt nh\u1ea5t 6 k\xed t\u1ef1"):t===n?console.log(e,t,n):s("X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang")},rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"L\u01afU THAY \u0110\u1ed4I"),t&&o.a.createElement(i.Button,{rounded:8,bgColor:"green.500",p:2,_text:{color:"white",fontWeight:"600"}},"\u0110ANG T\u1ea2I ..."))),n&&o.a.createElement(i.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i m\u1eadt kh\u1ea9u c\u0169")),m&&o.a.createElement(i.Box,{mt:4,p:3.5,rounded:10,borderWidth:1,borderColor:"red.500"},o.a.createElement(i.Text,{textAlign:"center",color:"red.500"},m))))};var Tr=function(){return o.a.createElement(i.Box,{w:"full",borderTopWidth:"1px",borderColor:"gray.100",py:"12px",mt:"40px"},o.a.createElement(i.Container,{w:"container.lg",mx:"auto",maxW:"full",px:"8px"},o.a.createElement(i.HStack,{borderBottomWidth:"1px",borderColor:"gray.100",pb:"12px",mb:"12px",w:"100%"},o.a.createElement(i.Text,{color:"gray.500",fontSize:["12px","13px"]},"Ti\u1ebfng Vi\u1ec7t. English. \u4e2d\u6587 (Zh\u014dngw\xe9n). \u6c49\u8bed, \u6f22\u8a9e, \u65e5\u672c\u8a9e (\u306b\u307b\u3093\u3054). \ud55c\uad6d\uc5b4, fran\xe7ais, langue fran\xe7aise.")),o.a.createElement(i.Stack,{justifyContent:"space-between",w:"100%",direction:["column","row"]},o.a.createElement(i.VStack,{space:"2px"},o.a.createElement(i.Text,{color:"gray.500",fontSize:["12px","13px"]},"Odanang - M\u1ea1ng x\xe3 h\u1ed9i sinh vi\xean."),o.a.createElement(i.Text,{color:"gray.500",fontSize:["12px","13px"]},"Phi\xean b\u1ea3n v1.0-beta.0")),o.a.createElement(i.VStack,{space:"2px"},o.a.createElement(i.Text,{color:"gray.500",fontSize:["12px","13px"],textAlign:"right"},"\u0110\u1ed3 \xe1n c\xf4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m PBL6."),o.a.createElement(i.Text,{color:"gray.500",fontSize:["12px","13px"],textAlign:"right"},"\u0110\u1ea1i h\u1ecdc B\xe1ch Khoa - \u0110\u1ea1i h\u1ecdc \u0110\xe0 N\u1eb5ng. C\xe1c th\xe0nh vi\xean: 1. Tr\u1ea7n Ng\u1ecdc Huy 2. Nguy\u1ec5n Kim Huy 3. Tr\u1ea7n Di\u1ec7p Ph\u01b0\u01a1ng 4. Tr\u1ea7n V\u0169 Minh Tri\u1ebft")))))};var Pr={initialRouteName:"home",auth:{component:function(e){var t=e.navigation;return o.a.createElement(a.Fragment,null,o.a.createElement(i.Container,{w:"container.lg",m:"auto",mt:"0",maxW:"90%"},o.a.createElement(ce,{navigation:t})),o.a.createElement(Tr,null))},requires:["home"]},screens:[{name:"home",component:function(e){e.navigation;var t=Object(a.useContext)(L).user;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:["0","8px"]},o.a.createElement(i.Flex,{w:"full",direction:"row"},o.a.createElement(i.Box,{flex:[1,1,1,9],maxW:"680px",mx:["auto","auto","auto","0"]},o.a.createElement(dr,null),o.a.createElement(tr,{first:5})),o.a.createElement(i.Box,{flex:[0,0,0,3],display:["none","none","none","block"]},o.a.createElement(i.Box,{w:"full",py:"8px",pl:"24px",pr:"8px",position:"sticky",top:"64px"},o.a.createElement(It,{id:null==t?void 0:t.id})))))},options:{title:"Trang ch\u1ee7"}},{name:"users",component:function(e){e.navigation;var t=Object(a.useContext)(L).user,n=Object(Nt.o)().params,r=(void 0===n?{}:n).id;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(jr,{id:r,my_id:null==t?void 0:t.id}))},options:{title:"Trang c\xe1 nh\xe2n"}},{name:"posts",component:function(e){e.navigation;var t=Object(Nt.o)().params,n=(void 0===t?{}:t).id;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:["0","8px"]},o.a.createElement(lr,{id:n}))},options:{title:"Trang b\xe0i vi\u1ebft"}},{name:"signup",component:function(e){var t=e.navigation;return o.a.createElement(a.Fragment,null,o.a.createElement(i.Container,{w:"container.lg",m:"auto",mt:"0",maxW:"90%"},o.a.createElement(pe,{navigation:t})),o.a.createElement(Tr,null))},options:{title:"\u0110\u0103ng k\xfd"}},{name:"newpost",component:function(e){return e.navigation,o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(gr,null))},options:{title:"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"}},{name:"friendsuggestion",component:function(e){e.navigation;var t=Object(a.useContext)(L).user;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(ot,{id:null==t?void 0:t.id}))},options:{title:"B\u1ea1n b\xe8 g\u1ee3i \xfd"}},{name:"friendrequest",component:function(e){e.navigation;var t=Object(a.useContext)(L).user;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(Ot,{id:null==t?void 0:t.id}))},options:{title:"L\u1eddi m\u1eddi k\u1ebft b\u1ea1n"}},{name:"userupdate",component:function(e){e.navigation;var t=Object(a.useContext)(L).user;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(zr,{user:t}))},options:{title:"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"}},{name:"updatepassword",component:function(e){return e.navigation,o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement($r,null))},options:{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}},{name:"album",component:function(e){return e.navigation,o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(Fn,null))},options:{title:"\u0110\xe3 l\u01b0u"}},{name:"earlyaccess",component:function(e){e.navigation;var t=Object(a.useContext)(L),n=(t.loading,t.error,t.user);return o.a.createElement(a.Fragment,null,o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"24px",maxW:"full",px:"8px"},o.a.createElement(i.VStack,{maxW:"500",w:"full",mx:"auto",mt:"100px",alignItems:"center",space:"24px"},o.a.createElement(i.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1632635691/favicon_gc42jc.svg"},alt:"Logo",size:"100px",mx:"auto"}),o.a.createElement(i.VStack,{alignItems:"center"},o.a.createElement(i.Text,{fontSize:"18px",fontWeight:"600",mb:"8px",textAlign:"center",maxW:["80%","100%"]},"KILOGRAM - M\u1ea0NG X\xc3 H\u1ed8I D\xc0NH CHO SINH VI\xcaN"),o.a.createElement(i.Text,{color:"gray.500",fontSize:"16px"},"\u0110\u01b0\u1ee3c ph\xe1t tri\u1ec3n b\u1edfi sinh vi\xean \u0110H BK\u0110N")),o.a.createElement(i.Heading,{fontSize:["54px","80px"],color:"green.500",my:"8px",textAlign:"center"},"S\u1eaeP RA M\u1eaeT"),o.a.createElement(i.Box,null,o.a.createElement(i.HStack,{justifyContent:"center",mb:"8"},o.a.createElement(i.Text,{fontSize:"18",color:"gray.500",mr:3},"S\u1ed1 ng\u01b0\u1eddi \u0111\u0103ng k\xfd:"),o.a.createElement(i.Box,{fontSize:"18px",fontWeight:"600"},o.a.createElement(lt,null))),!n&&o.a.createElement(i.HStack,{justifyContent:"center"},o.a.createElement(i.Text,null,"H\xe3y "),o.a.createElement(X.a,{to:{screen:"signup"}},o.a.createElement(i.Text,{color:"green.500",textDecoration:"none"},"\u0111\u0103ng k\xfd")),o.a.createElement(i.Text,null," m\u1ed9t t\xe0i kho\u1ea3n \u0111\u1ec3 gi\u1eef ch\u1ed7 "))))),o.a.createElement(Tr,null))},options:{title:"Odanang - S\u1eafp ra m\u1eaft"}},{name:"friends",component:function(e){e.navigation;var t=Object(a.useContext)(L).user;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(ft,{id:null==t?void 0:t.id}))},options:{title:"T\u1ea5t c\u1ea3 b\u1ea1n b\xe8"}},{name:"result",component:function(e){e.navigation;var t=Object(a.useContext)(L).user,n=Object(Nt.o)().params,r=(void 0===n?{}:n).keyword;return o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:["0","8px"]},o.a.createElement(i.Flex,{w:"full",direction:"row"},o.a.createElement(i.Box,{flex:[1,1,1,9],maxW:"680px",mx:["auto","auto","auto","0"]},o.a.createElement(i.Box,{w:"full",mt:"20px",mb:"8px",px:"0.5%"},o.a.createElement(i.Text,{fontSize:["16","18"],fontWeight:"600",color:"gray.700",px:["8px","0"]},"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho ",r)),o.a.createElement(bt,{keyword:r,my_id:null==t?void 0:t.id})),o.a.createElement(i.Box,{flex:[0,0,0,3],display:["none","none","none","block"]},o.a.createElement(i.Box,{w:"full",py:"8px",pl:"24px",pr:"8px",position:"sticky",top:"64px"},o.a.createElement(It,null)))))},options:{title:"K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm"}},{name:"markdown",component:function(e){return e.navigation,o.a.createElement(i.Container,{w:"container.lg",margin:"auto",mt:"64px",maxW:"full",px:"8px"},o.a.createElement(Or,null,'\n# Odanang\n## M\u1ea1ng x\xe3 h\u1ed9i d\xe0nh cho sinh vi\xean\n\n![Logo](https://res.cloudinary.com/cloudinaryassets/image/upload/v1633593799/logo-header_qh37fo.svg)\n\n### Gi\u1edbi thi\u1ec7u\n\n---\n\n\u0110\u1ed3 \xe1n c\xf4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m **PBL6**.\n\u0110\u1ea1i h\u1ecdc B\xe1ch Khoa - \u0110\u1ea1i h\u1ecdc \u0110\xe0 N\u1eb5ng.\nC\xe1c th\xe0nh vi\xean:\n1. Tr\u1ea7n Ng\u1ecdc Huy\n2. Nguy\u1ec5n Kim Huy\n3. Tr\u1ea7n Di\u1ec7p Ph\u01b0\u01a1ng\n4. Tr\u1ea7n V\u0169 Minh Tri\u1ebft\n\n\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1eb7t ch\u1ed7 [t\u1ea1i \u0111\xe2y](https://github.com/truongduchuy910/PBL6).\n\n> "Tr\xedch d\u1eabn c\u1ee7a ai \u0111\xf3"\n'),o.a.createElement(i.Box,{w:"100%"}))},options:{title:"Markdown"}},{name:"test",component:function(e){return e.navigation,o.a.createElement(a.Fragment,null,o.a.createElement(i.Container,null,o.a.createElement(gr,null),o.a.createElement(tr,{first:3})))},options:{title:"Test Component"}}],linking:{prefixes:["https://odanang.net"],config:{screens:{home:"/",users:"users/:id",posts:"posts/:id",signup:"signup",newpost:"newpost",friendsuggestion:"friendsuggestion",friendrequest:"friendrequest",userupdate:"userupdate",updatepassword:"updatepassword",album:"album",earlyaccess:"earlyaccess",friends:"friends",result:"result",markdown:"markdown",test:"test"}}}},Rr=n(276),Ar=n(395);var Dr=function(e){var t=e.navigation,n=Object(a.useState)(!1),r=ne()(n,2),l=r[0],c=r[1],u=function(){c((function(e){return!e}))},d=Object(a.useContext)(L).user;return o.a.createElement(i.Box,{position:"relative",right:"0"},o.a.createElement(i.Button,{onPress:u,rounded:"100",bgColor:"gray.100",p:"10px",_text:{color:"gray.400",fontWeight:"600"}},o.a.createElement(Yn.c,{color:"#a1a1aa"})),l&&o.a.createElement(i.Box,{position:"absolute",top:"40px",right:"0",w:"200px"},o.a.createElement(i.VStack,{space:"6px",bgColor:"white",p:"8px",rounded:"8px",borderWidth:"1px",borderColor:"gray.100",alignItems:"start"},o.a.createElement(i.Button,{bgColor:"white",leftIcon:o.a.createElement(Rr.b,{color:"#22c55e"}),onPress:u},o.a.createElement(X.a,{to:{screen:"users",params:{id:d.id}}},o.a.createElement(i.Text,null,"Trang c\xe1 nh\xe2n"))),o.a.createElement(i.Button,{bgColor:"white",leftIcon:o.a.createElement(Ar.a,{color:"#22c55e"}),onPress:u},o.a.createElement(X.a,{to:{screen:"userupdate"}},o.a.createElement(i.Text,null,"C\xe0i \u0111\u1eb7t"))),o.a.createElement(i.Button,{bgColor:"white",leftIcon:o.a.createElement(Gn.b,{color:"#22c55e"}),onPress:u},o.a.createElement(X.a,{to:{screen:"updatepassword"}},o.a.createElement(i.Text,null,"\u0110\u1ed5i m\u1eadt kh\u1ea9u"))),o.a.createElement(i.Button,{bgColor:"white",leftIcon:o.a.createElement(Rr.a,{color:"#22c55e"}),onPress:u},o.a.createElement(X.a,{to:{screen:"album"}},o.a.createElement(i.Text,null,"L\u01b0u"))),o.a.createElement(ve,{navigation:t}))))};var Mr,Hr=function(e){return o.a.createElement(i.Button,{bgColor:"white",onPress:e.notificationHandler},o.a.createElement(i.HStack,{space:"12px",display:"flex",flexDirection:"row",w:"full",px:"4px",alignItems:"flex-start",justifyContent:"flex-start",position:"relative",zIndex:"1"},o.a.createElement(i.Image,{source:{uri:e.item.imgUrl},alt:"Profile image",size:"40px",rounded:"100",mt:"4px"}),o.a.createElement(i.Box,null,o.a.createElement(i.Text,{color:"gray.900",fontWeight:"600"},e.item.user),o.a.createElement(i.Text,null,e.item.content),o.a.createElement(i.Text,{color:"gray.400",fontSize:"12px"},e.item.time))))},Nr=Object(I.a)(Mr||(Mr=b()(["\n  query($id: ID!, $first: Int) {\n    allRelationships(\n      first: $first\n      sortBy: updatedAt_DESC\n      where: { to: { id: $id } }\n    ) {\n      id\n      isAccepted\n      createdAt\n      createdBy {\n        id\n        name\n        avatar {\n          publicUrl\n        }\n      }\n      to {\n        id\n        name\n      }\n    }\n\n    allInteractives(\n      first: $first\n      where: { createdBy: { id: $id } }\n      sortBy: updatedAt_DESC\n    ) {\n      id\n      comments(first: $first, sortBy: createdAt_DESC) {\n        id\n        content\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n      reactions(first: $first, sortBy: createdAt_DESC) {\n        id\n        createdAt\n        createdBy {\n          id\n          name\n          avatar {\n            publicUrl\n          }\n        }\n      }\n    }\n  }\n"])));function Fr(e){var t=n(197),r=t(e),a=t();return a.format("DD-MM-YYYY")===r.format("DD-MM-YYYY")?Number(a.get("hour"))-Number(r.get("hour"))===0?Number(a.get("minute"))-Number(r.get("minute"))+" ph\xfat tr\u01b0\u1edbc":Number(a.get("hour"))-Number(r.get("hour"))+" gi\u1edd tr\u01b0\u1edbc":r.format("DD-MM-YYYY")}function Lr(e){var t=e.UI,n=e.first,r=void 0===n?3:n,a=e.id,i=Object(O.a)(Nr,{variables:{first:r,id:a}}),l=i.loading,c=i.error,u=i.data,d=void 0===u?{}:u,m=(i.refetch,d.allRelationships),s=void 0===m?[]:m,p=d.allInteractives,g=void 0===p?[]:p,h=[],x=[];g.length&&g.forEach((function(e){e.comments&&e.comments.forEach((function(e){return h.push(e)})),e.reactions&&e.reactions.forEach((function(e){return x.push(e)}))}));var v=[];v.push.apply(v,h.concat(x)),s&&v.push.apply(v,f()(s)),v.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));var b=v.filter((function(e){var t;return(null==(t=e.createdBy)?void 0:t.id)!==a}));b.length>6&&b.slice(0,6);var E=[];return b.forEach((function(e){switch(e.__typename){case"InteractiveComment":E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 b\xecnh lu\u1eadn v\u1ec1 b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n.",time:Fr(e.createdAt)});break;case"InteractiveReaction":E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 th\xedch b\xe0i vi\u1ebft c\u1ee7a b\u1ea1n.",time:Fr(e.createdAt)});break;case"Relationship":e.isAccepted?E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"v\xe0 b\u1ea1n \u0111\xe3 tr\u1edf th\xe0nh b\u1ea1n b\xe8",time:Fr(e.createdAt)}):E.push({id:e.id,user:e.createdBy.name,imgUrl:"https://odanang.net"+(e.createdBy.avatar.publicUrl||"/upload/img/no-image.png"),content:"\u0111\xe3 g\u1eedi l\u1eddi m\u1eddi k\u1ebft b\u1ea1n \u0111\u1ebfn b\u1ea1n.",time:Fr(e.createdAt)});break;default:E.push({})}})),o.a.createElement(t,{loading:l,error:c,data:E,allRelationships:s})}function Yr(e){e.loading,e.error;var t=e.data;e.allRelationships;return o.a.createElement(i.Box,{position:"absolute",top:"10",right:"0",w:"300px"},o.a.createElement(i.VStack,{py:"8px",bgColor:"white",rounded:"8px",borderWidth:"1px",borderColor:"gray.100",alignItems:"start"},t.map((function(e){return o.a.createElement(Hr,{key:e.id,item:e})}))))}function Vr(e){return o.a.createElement(Lr,m()({},e,{UI:Yr}))}var qr=function(){var e=Object(a.useState)(!1),t=ne()(e,2),n=t[0],r=t[1],l=function(){r((function(e){return!e}))},c=Object(a.useContext)(L).user;return o.a.createElement(i.Box,{position:"relative",right:"0"},o.a.createElement(i.Button,{onPress:l,rounded:"100",bgColor:"gray.100",p:"10px",_text:{color:"gray.400",fontWeight:"600"}},o.a.createElement(Gn.a,{color:"#a1a1aa"})),n&&o.a.createElement(Vr,{notificationHandler:l,id:null==c?void 0:c.id}))};var Gr=function(e){return e.navigation,o.a.createElement(i.Box,{position:"relative",right:"0",display:["none","none","block"]},o.a.createElement(i.FormControl,null,o.a.createElement(i.Input,{onKeyPress:function(e){"Enter"===e.key&&console.log(e.target.value)},bgColor:"white",px:"2",py:"1.5",pl:"8",borderWidth:"1",borderColor:"gray.100",rounded:"6",placeholder:"T\xecm ki\u1ebfm tr\xean Odanang",fontFamily:"Lexend_400Regular",fontSize:"14",w:"250px",_focus:{borderColor:"green.500"}})),o.a.createElement(i.Box,{position:"absolute",top:"2.5",left:"2.5",size:"14"},o.a.createElement(Gn.d,{color:"#a1a1aa"})))};function Kr(e){var t=e.user,n=e.navigation;e.route,e.options,e.back;return o.a.createElement(i.Box,{w:"full",position:"fixed",borderBottomWidth:"1px",borderColor:"gray.100",bgColor:"white"},o.a.createElement(i.Container,{w:"container.lg",mx:"auto",maxW:"full",px:"8px"},o.a.createElement(i.Box,{safeAreaTop:!0,pt:"12px",pb:"8px",boxSize:"full"},o.a.createElement(i.HStack,{justifyContent:"space-between",alignItems:"center"},o.a.createElement(X.a,{to:{screen:"home"}},o.a.createElement(i.Image,{source:{uri:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1633593799/logo-header_qh37fo.svg"},alt:"Logo",w:"150px",h:"40px"})),t&&o.a.createElement(Gr,null),t&&o.a.createElement(i.HStack,{alignItems:"center",space:"10px"},o.a.createElement(i.Box,{display:["none","block"]},o.a.createElement(Z,{navigation:n})),o.a.createElement(qr,null),o.a.createElement(Dr,{navigation:n}))))))}function Xr(e){return o.a.createElement(K,m()({},e,{UI:Kr}))}function Jr(){return Object(l.f)({Lexend_300Light:l.a,Lexend_400Regular:l.b,Lexend_500Medium:l.c,Lexend_600SemiBold:l.d,Lexend_700Bold:l.e}),o.a.createElement(i.NativeBaseProvider,{theme:c},o.a.createElement(q,{navigation:Pr,header:Xr}))}n(106).a.registerComponent("Odanang",(function(){return Jr}));var Zr=Jr;Object(r.a)(Zr)}},[[404,1,2]]]);
//# sourceMappingURL=app.d0abdecc.chunk.js.map